/*! For license information please see addons.js.LICENSE */
(window.webpackJsonpGUI=window.webpackJsonpGUI||[]).push([["addons"],{"./node_modules/css-loader/index.js!./src/addons/addons/pause/style.css":function(e,t,s){(e.exports=s("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".pause-btn {\n  width: 2rem;\n  height: 2rem;\n  padding: 0.375rem;\n  border-radius: 0.25rem;\n  user-select: none;\n  user-drag: none;\n  cursor: pointer;\n}\n\n.pause-btn:hover {\n  background-color: hsla(0, 100%, 65%, 0.15);\n}\n",""])},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/addons/modal.css":function(e,t,s){(t=e.exports=s("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'.modal_modal-content_fN1pD {\n  background-color: white;\n  color: #575e75;\n}\n[theme="dark"] .modal_modal-content_fN1pD {\n  background-color: var(--ui-primary);\n  color: var(--text-primary);\n}\n',""]),t.locals={"modal-content":"modal_modal-content_fN1pD",modalContent:"modal_modal-content_fN1pD"}},"./node_modules/url-loader/dist/cjs.js!./src/addons/addons/mute-project/mute.svg":function(e,t,s){"use strict";s.r(t),t.default="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU1LjIgKDc4MTgxKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5Tb3VuZC9FZmZlY3RzL011dGU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iU291bmQvRWZmZWN0cy9NdXRlIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBmaWxsPSIjQ0Y2M0NGIiBkPSJNMTMuNDU0MTc0OSw1LjA0ODE1MjQzIEwxNS42MjgxMTY4LDIuODc0MjEwNTQgQzE1LjkyMTAxLDIuNTgxMzE3MzIgMTYuMzk1ODgzNywyLjU4MTMxNzMyIDE2LjY4ODc3NywyLjg3NDIxMDU0IEMxNi45ODE2NzAyLDMuMTY3MTAzNzYgMTYuOTgxNjcwMiwzLjY0MTk3NzQ5IDE2LjY4ODc3NywzLjkzNDg3MDcxIEw0LjUzMDMzMDA5LDE2LjA5MzMxNzYgQzQuMjM3NDM2ODcsMTYuMzg2MjEwOCAzLjc2MjU2MzEzLDE2LjM4NjIxMDggMy40Njk2Njk5MSwxNi4wOTMzMTc2IEMzLjE3Njc3NjcsMTUuODAwNDI0NCAzLjE3Njc3NjcsMTUuMzI1NTUwNiAzLjQ2OTY2OTkxLDE1LjAzMjY1NzQgTDYuMzEyMTQ5MzIsMTIuMTkwMTc4IEM2LjEyNDExOTEsMTIuMDYyMTM3OSA2LDExLjg0NjMzMzEgNiwxMS42MDI5ODc1IEw2LDguNjM3NDg3NSBDNiw4LjI0NzExMjUgNi4zMTk0MTUyNyw3LjkyNzYxMjUgNi43MDk2ODY3NSw3LjkyNzYxMjUgTDcuMDI0NjAzMjIsNy45Mjc2MTI1IEM4Ljc1Nzc2ODQ4LDcuOTI3NjEyNSAxMC4yOTQxMTEsNi44MTM4NjI1IDEwLjgzMzk2NzgsNS4xNjY4NjI1IEMxMC45Mjk1Njc0LDQuODc0MzYyNSAxMS4yMDE3NDUyLDQuNjc3NDg3NSAxMS41MDc2NjQxLDQuNjc3NDg3NSBMMTIuODMxNDM3OSw0LjY3NzQ4NzUgQzEzLjEwMDI4NDQsNC42Nzc0ODc1IDEzLjMzNDEwNzUsNC44MjcxNzIwOCAxMy40NTQxNzQ5LDUuMDQ4MTUyNDMgWiBNMTMuNTQsOS4wODM2NDc3MSBMMTMuNTQsMTQuODUzMTEyNSBDMTMuNTQsMTUuMjQ1NzM3NSAxMy4yMjI4MzQxLDE1LjU2Mjk4NzUgMTIuODMxNDM3OSwxNS41NjI5ODc1IEwxMS41MDc2NjQxLDE1LjU2Mjk4NzUgQzExLjIwMTc0NTIsMTUuNTYyOTg3NSAxMC45Mjk1Njc0LDE1LjM2NjExMjUgMTAuODMzOTY3OCwxNS4wNzM2MTI1IEMxMC41NzczNzg1LDE0LjI5MDgwNzcgMTAuMDk1NjgxMywxMy42Mjg0NjUgOS40NzQ3MzUzMSwxMy4xNDg5MTI0IEwxMy41NCw5LjA4MzY0NzcxIFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4KICAgIDwvZz4KPC9zdmc+Cg=="},"./node_modules/url-loader/dist/cjs.js!./src/addons/addons/pause/pause.svg":function(e,t,s){"use strict";s.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTgiIHdpZHRoPSIxOCI+PHBhdGggZD0iTTIzMS40MjkgMTg4LjkyOVYxNzEuMDdoNC4yODV2MTcuODU4em0xMi4xNDIgMFYxNzEuMDdoNC4yODZ2MTcuODU4eiIgdHJhbnNmb3JtPSJtYXRyaXgoMS4wMzMwOSAwIDAgLjk1NDI3IC0yMzguNTczIC0xNjIuNzY5KSIgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aXNQYWludGluZ0xheWVyJnF1b3Q7OnRydWV9IiBmaWxsPSIjZmZhZTAwIiBzdHJva2U9IiNkODk0MDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOm5vcm1hbCIvPjwvc3ZnPg=="},"./node_modules/url-loader/dist/cjs.js!./src/addons/addons/pause/play.svg":function(e,t,s){"use strict";s.r(t),t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTgiIHdpZHRoPSIxOCI+PHBhdGggZD0ibTI0Ni4wNTUgMTgwLTEyLjExIDEyLjExdi0yNC4yMnoiIHRyYW5zZm9ybT0ibWF0cml4KDEuMTM5NDkgMCAwIC42Nzk0MyAtMjY0LjU5NSAtMTEzLjI5OCkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlPSIjZDg5NDAwIiBmaWxsPSIjZmZhZTAwIiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpc1BhaW50aW5nTGF5ZXImcXVvdDs6dHJ1ZX0iLz48L3N2Zz4="},"./src/addons/addon-precedence.js":function(e,t,s){"use strict";s.r(t);const n=["columns","editor-stage-left","editor-theme3"];t.default=e=>n.indexOf(e)+1},"./src/addons/addons-l10n/en.json":function(e){e.exports=JSON.parse('{"editor-devtools/clean-plus":"Clean up Blocks +","editor-devtools/copy-all":"Copy All","editor-devtools/copy-block":"Copy Block","editor-devtools/cut-block":"Cut Block","editor-devtools/lists":"lists","editor-devtools/make-space":"Make Space","editor-devtools/orphaned":"{count, plural, one {Developer tools: Delete 1 orphaned reporter block?} other {Developer tools: Delete # orphaned reporter blocks?} }","editor-devtools/paste":"Paste","editor-devtools/replace":"Developer tools: Switch all {name} in this sprite for the variable named:","editor-devtools/swap":"Swap {var} in Sprite","editor-devtools/unused-list":"{count, plural, one {Developer tools: Delete 1 unused local list? Here it is:\\n} other {Developer tools: Delete # unused local lists? Here they are:\\n} }","editor-devtools/unused-var":"{count, plural, one {Developer tools: Delete 1 unused local variable? Here it is:\\n} other {Developer tools: Delete # unused local variables? Here they are:\\n} }","editor-devtools/var-not-exist":"That variable does not exist...","editor-devtools/variables":"variables","find-bar/complex-broadcast":"(expression)","find-bar/find-placeholder":"Find (Ctrl+F)","middle-click-popup/start-typing":"Start Typing...","editor-searchable-dropdowns/createBroadcast":"Create message \\"{name}\\"","editor-searchable-dropdowns/createGlobalList":"Create list \\"{name}\\" for all sprites","editor-searchable-dropdowns/createGlobalVariable":"Create variable \\"{name}\\" for all sprites","editor-searchable-dropdowns/createLocalList":"Create list \\"{name}\\" for this sprite only","editor-searchable-dropdowns/createLocalVariable":"Create variable \\"{name}\\" for this sprite only","data-category-tweaks-v2/for-all-sprites":"For all sprites:","data-category-tweaks-v2/for-this-sprite-only":"For this sprite only:","data-category-tweaks-v2/list-category":"Lists","hide-flyout/lock":"Lock Palette","hide-flyout/unlock":"Unlock Palette","mediarecorder/cancel":"Cancel","mediarecorder/click-flag":"Waiting...","mediarecorder/click-flag-description":"Click the green flag to start recording. Click this button to stop.","mediarecorder/option-title":"Record Options","mediarecorder/record":"Record","mediarecorder/record-after-flag":"Do not start recording until the Green Flag is clicked","mediarecorder/record-audio":"Include project sounds","mediarecorder/record-audio-description":"This does not include Text-to-Speech.","mediarecorder/record-description":"Record the stage as a WebM file. You can save it to your computer after the recording is finished.\\nNote: variable and list monitors will not be visible.","mediarecorder/record-duration":"Record Duration (in seconds)","mediarecorder/record-mic":"Include sounds from microphone","mediarecorder/record-until-stop":"Stop recording after the project has stopped","mediarecorder/record-until-stop-disabled":"You need to enable \\"{afterFlagOption}\\" to use this option.","mediarecorder/start":"Start","mediarecorder/start-delay":"Start Delay (in seconds)","mediarecorder/starting-in":"Starting in {secs}...","mediarecorder/stop":"Stop Recording","debugger/block-breakpoint":"breakpoint","debugger/block-error":"error %s","debugger/block-log":"log %s","debugger/block-warn":"warn %s","debugger/cannot-pause-player":"Breakpoint block can only be used while on the editor.","debugger/clear":"Clear","debugger/clone-of":"Clone of {sprite}","debugger/close":"Close","debugger/console":"Logs","debugger/debug":"Debug","debugger/empty-string":"(empty string)","debugger/enter-format":"Enter export format:","debugger/export":"Export","debugger/export-desc":"Click while holding Shift to customize export format.","debugger/icon-error":"Error","debugger/icon-warn":"Warning","debugger/log-msg-broadcasted":"Broadcasted \'{broadcast}\'.","debugger/log-msg-clone-cap":"Failed to create clone of \'{sprite}\', cannot create over 300 clones.","debugger/log-msg-clone-created":"Created clone of \'{sprite}\'.","debugger/log-msg-flag-clicked":"Green flag clicked.","debugger/no-logs":"There are no logs to display.","debugger/no-threads-running":"No threads running.","debugger/step":"Step","debugger/step-desc":"Executes one block.","debugger/tab-logs":"Logs","debugger/tab-threads":"Threads","debugger/thread":"Thread {id}","debugger/unknown-sprite":"(unknown sprite)","debugger/unpause":"Resume","pause/pause":"Pause","clones/clones":"clones: {cloneCount}","color-picker/hex":"hex color","remove-sprite-confirm/confirm":"Do you want to delete the sprite?","block-count/blocks":"{num, plural, one {1 block} other {# blocks}}","onion-skinning/behind":"Behind","onion-skinning/front":"Front","onion-skinning/layering":"Layering","onion-skinning/merge":"Merge","onion-skinning/mode":"Mode","onion-skinning/next":"Next costumes","onion-skinning/opacity":"Opacity (%)","onion-skinning/opacityStep":"Opacity step (%)","onion-skinning/previous":"Previous costumes","onion-skinning/settings":"Onion Skinning Settings","onion-skinning/tint":"Tint","onion-skinning/toggle":"Toggle Onion Skinning","paint-snap/boxCenter":"Center of selection","paint-snap/boxCorners":"Corners of selection","paint-snap/boxEdgeMids":"Selection edge midpoints","paint-snap/objectCenters":"Centers of objects","paint-snap/objectCorners":"Corners of objects","paint-snap/objectEdges":"Edges of objects","paint-snap/objectMidlines":"Midlines of objects","paint-snap/off":"Off","paint-snap/on":"On","paint-snap/pageAxes":"Page x and y axes","paint-snap/pageCenter":"Center of the page","paint-snap/pageCorners":"Corners of the page","paint-snap/pageEdges":"Edges of the page","paint-snap/settings":"Snap Settings","paint-snap/snapFrom":"Snap from:","paint-snap/snapTo":"Snap to:","paint-snap/threshold":"Snapping distance","paint-snap/toggle":"Toggle Snapping","2d-color-picker/shade":"Shade","better-img-uploads/upload":"HD Upload","variable-manager/for-all-sprites":"Variables for all sprites","variable-manager/for-this-sprite":"Variables for this sprite","variable-manager/search":"Search","variable-manager/too-big":"Click to display very large value.","variable-manager/variables":"Variables","search-sprites/placeholder":"Search sprites...","sprite-properties/close-properties-panel-tooltip":"Collapse properties panel","sprite-properties/open-properties-panel-tooltip":"Open properties panel","gamepad/axes-a-b":"Axes {a} & {b}","gamepad/axis-arrows":"Arrow Keys","gamepad/axis-cursor":"Cursor","gamepad/axis-custom":"Custom","gamepad/axis-none":"None","gamepad/browser-support":"This browser and operating system have known bugs that may make this addon difficult to use. Try another browser if you encounter problems.","gamepad/button-n":"Button {n}","gamepad/clear":"Clear all controls","gamepad/config-header":"This comment contains configuration for gamepad support in third-party tools or websites such as https://turbowarp.org/\\nDo not edit by hand","gamepad/key-click":"Click","gamepad/key-down":"Down","gamepad/key-enter":"Enter","gamepad/key-left":"Left","gamepad/key-none":"(none)","gamepad/key-right":"Right","gamepad/key-space":"Space","gamepad/key-up":"Up","gamepad/keyinput-title":"Click and press a key or click to change button. Escape to cancel. Backspace or delete to clear.","gamepad/no-controllers":"No controllers detected. Try plugging one in and pressing a button on it.","gamepad/reset":"Reset all controls to project defaults","gamepad/settings":"Gamepad Settings","gamepad/store-in-project":"Store these settings in the project to override the default configuration (Experimental tool for project creators)","folders/add-to-folder":"add to folder: {folder}","folders/closed-folder":"Folder","folders/confirm-backpack-folder":"Save entire folder to backpack?","folders/create-folder":"create folder","folders/name-not-allowed":"Invalid folder name","folders/name-prompt":"Name of folder:","folders/name-prompt-title":"Create Folder","folders/open-folder":"Opened","folders/remove-folder":"remove folder","folders/remove-from-folder":"remove from folder","folders/rename-folder":"rename folder","folders/rename-folder-prompt":"Rename folder to:","folders/rename-folder-prompt-title":"Rename Folder","block-switching/control_forever":"forever","block-switching/control_if":"if","block-switching/control_if_else":"if... else","block-switching/control_repeat_until":"repeat until","block-switching/control_wait_until":"wait until","block-switching/data_changevariableby":"change variable","block-switching/data_deletealloflist":"delete all","block-switching/data_deleteoflist":"delete item","block-switching/data_hidelist":"hide list","block-switching/data_hidevariable":"hide variable","block-switching/data_insertatlist":"insert item","block-switching/data_replaceitemoflist":"replace item","block-switching/data_setvariableto":"set variable","block-switching/data_showlist":"show list","block-switching/data_showvariable":"show variable","block-switching/debugger_error":"error","block-switching/debugger_log":"log","block-switching/debugger_warn":"warn","block-switching/event_broadcast":"broadcast","block-switching/event_broadcastandwait":"broadcast and wait","block-switching/looks_backdropnumbername":"backdrop number or name","block-switching/looks_changeeffectby":"change effect","block-switching/looks_changesizeby":"change size","block-switching/looks_costumenumbername":"costume number or name","block-switching/looks_goforwardbackwardlayers":"go forward or backward layers","block-switching/looks_gotofrontback":"go to front or back layer","block-switching/looks_hide":"hide","block-switching/looks_nextbackdrop":"next backdrop","block-switching/looks_nextcostume":"next costume","block-switching/looks_say":"say","block-switching/looks_sayforsecs":"say for seconds","block-switching/looks_seteffectto":"set effect","block-switching/looks_setsizeto":"set size","block-switching/looks_show":"show","block-switching/looks_switchbackdropto":"switch backdrop","block-switching/looks_switchbackdroptoandwait":"switch backdrop and wait","block-switching/looks_think":"think","block-switching/looks_thinkforsecs":"think for seconds","block-switching/motion_changexby":"change x","block-switching/motion_changeyby":"change y","block-switching/motion_setx":"set x","block-switching/motion_sety":"set y","block-switching/motion_turnleft":"turn left","block-switching/motion_turnright":"turn right","block-switching/motion_xposition":"x position","block-switching/motion_yposition":"y position","block-switching/music_changeTempo":"change tempo","block-switching/music_setTempo":"set tempo","block-switching/operator_add":"+","block-switching/operator_and":"and","block-switching/operator_divide":"/","block-switching/operator_equals":"=","block-switching/operator_gt":">","block-switching/operator_lt":"<","block-switching/operator_mod":"mod","block-switching/operator_multiply":"*","block-switching/operator_or":"or","block-switching/operator_subtract":"-","block-switching/pen_changePenColorParamBy":"change parameter","block-switching/pen_changePenHueBy":"change hue","block-switching/pen_changePenShadeBy":"change shade","block-switching/pen_changePenSizeBy":"change size","block-switching/pen_penDown":"pen down","block-switching/pen_penUp":"pen up","block-switching/pen_setPenColorParamTo":"set parameter","block-switching/pen_setPenHueToNumber":"set hue","block-switching/pen_setPenShadeToNumber":"set shade","block-switching/pen_setPenSizeTo":"set size","block-switching/sensing_coloristouchingcolor":"color touching color","block-switching/sensing_mousex":"mouse x","block-switching/sensing_mousey":"mouse y","block-switching/sensing_touchingcolor":"touching color","block-switching/sound_changeeffectby":"change effect","block-switching/sound_changevolumeby":"change volume","block-switching/sound_play":"start","block-switching/sound_playuntildone":"play until done","block-switching/sound_seteffectto":"set effect","block-switching/sound_setvolumeto":"set volume","blocks2image/error_blocks_not_added":"Add blocks to workspace!","blocks2image/export_all_to_PNG":"Export all as PNG","blocks2image/export_all_to_SVG":"Export all as SVG","blocks2image/export_selected_to_PNG":"Export block as PNG","blocks2image/export_selected_to_SVG":"Export block as SVG","editor-extra-keys/enter-key":"enter","move-to-top-bottom/bottom":"move to bottom","move-to-top-bottom/top":"move to top","rename-broadcasts/RENAME_BROADCAST":"Rename message","rename-broadcasts/RENAME_BROADCAST_MODAL_TITLE":"Rename Message","rename-broadcasts/RENAME_BROADCAST_TITLE":"Rename all \\"{name}\\" messages to:","swap-local-global/cant-convert-cloud":"Cloud variables can\'t be converted to this sprite only.","swap-local-global/cant-convert-conflict":"Can\'t convert because it would conflict with variables in another sprite: {sprites}","swap-local-global/cant-convert-stage":"The stage can\'t have variables for this sprite only.","swap-local-global/cant-convert-to-local":"Can\'t convert because it\'s used by multiple sprites: {sprites}","swap-local-global/cant-convert-used-elsewhere":"Can\'t convert because it\'s used by another sprite: {sprite}","swap-local-global/edit":"Edit properties:","swap-local-global/edit-list-header":"Edit List","swap-local-global/edit-list-option":"Rename or edit list","swap-local-global/edit-variable-header":"Edit Variable","swap-local-global/edit-variable-option":"Rename or edit variable","swap-local-global/to-global":"Convert to \\"For all sprites\\"","swap-local-global/to-local":"Convert to \\"For this sprite only\\"","hide-stage/hide-stage":"Hide stage"}')},"./src/addons/addons/2d-color-picker/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"2D color picker",description:"Replaces saturation and brightness sliders in the costume editor with a 2D color picker. Hold Shift while dragging the cursor to change the values on a single axis.",tags:[],credits:[{name:"Ucrash"}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],enabledByDefault:!1}},"./src/addons/addons/better-img-uploads/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"HD image uploads",description:'Adds a new button above the "upload costume" button that automatically converts uploaded bitmap images into SVG (vector) images to avoid losing quality.',tags:["beta"],info:[{type:"notice",text:"Avoid using the HD upload button if you plan to edit the image after uploading.",id:"notSuitableEdit"}],credits:[{name:"ErrorGamer2000",link:"https://scratch.mit.edu/users/ErrorGamer2000/"},{name:"GarboMuffin"},{name:"World_Languages"},{name:"SheepTester",link:"https://scratch.mit.edu/users/Sheep_maker/"}],dynamicDisable:!0,enabledByDefault:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],settings:[{dynamic:!0,name:"Image sizing",id:"fitting",type:"select",potentialValues:[{id:"full",name:"Original size"},{id:"fill",name:"Stretch to fill stage"},{id:"fit",name:"Shrink to fit stage"}],default:"fit"}]}},"./src/addons/addons/bitmap-copy/_manifest_entry.js":function(e,t,s){"use strict";s.r(t);const n={editorOnly:!0,noTranslations:!0,name:"Bitmap images copying",description:"Allows you to copy a bitmap image from the costume editor into the system clipboard, so that you can paste it in other websites or software.",info:[{type:"notice",text:'"Right click â†’ copy" is not supported. You must press Ctrl+C while a bitmap image is selected.',id:"norightclick"}],userscripts:[{url:"userscript.js"}],dynamicDisable:!0,tags:[],enabledByDefault:!0};s("./src/addons/environment.js").clipboardSupported||(n.unsupported=!0),t.default=n},"./src/addons/addons/block-cherry-picking/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Grab single block with Ctrl key",description:"Adds the ability to drag a single block out of the middle of a script (instead of the entire stack attached below it) while holding the Ctrl key.",info:[{text:"On macOS, use the Cmd key instead of the Ctrl key.",id:"macContextDisabled"},{text:'If "flip controls" is enabled, grabbing blocks individually will be the default behavior. Hold Ctrl to drag the entire stack.',id:"flipControls"}],credits:[{name:"lisa_wolfgang",link:"https://scratch.mit.edu/users/lisa_wolfgang/"},{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],settings:[{dynamic:!0,name:"Flip controls",id:"invertDrag",type:"boolean",default:!1}],tags:[],dynamicDisable:!0,enabledByDefault:!0}},"./src/addons/addons/block-count/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Block count",description:'Shows the total number of blocks in a project in the editor menu bar. Previously part of "sprite and script count".',tags:[],credits:[{name:"TheColaber",link:"https://scratch.mit.edu/users/TheColaber/"}],dynamicDisable:!0,userscripts:[{url:"blockcount.js"}]}},"./src/addons/addons/block-duplicate/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Duplicate script with Alt key",description:"Quickly duplicate a script by dragging it while holding the Alt key. Hold Ctrl as well to only duplicate a single block instead of the entire stack attached below it.",credits:[{name:"GarboMuffin"}],info:[{text:"On macOS, use the Option key instead of the Alt key and Command key instead of the Control key.",id:"mac"}],userscripts:[{url:"userscript.js"}],dynamicDisable:!0,tags:[],enabledByDefault:!0}},"./src/addons/addons/block-palette-icons/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Block palette category icons",description:"Adds icons inside the colored circles that identify block categories.",tags:["theme"],enabledByDefault:!1,dynamicDisable:!0,userstyles:[{url:"userstyle.css"}],credits:[{name:"--Explosion--",link:"https://scratch.mit.edu/users/--Explosion--/"},{name:"RedGuy7",link:"https://scratch.mit.edu/users/RedGuy7/"}]}},"./src/addons/addons/block-switching/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Block switching",description:"Right click on a block to switch it to a related block.",credits:[{name:"GarboMuffin"},{name:"pufferfish101007",link:"https://scratch.mit.edu/users/pufferfish101007/"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],tags:["recommended"],settings:[{dynamic:!0,name:"Motion blocks",id:"motion",type:"boolean",default:!0},{dynamic:!0,name:"Looks blocks",id:"looks",type:"boolean",default:!0},{dynamic:!0,name:"Sound blocks",id:"sound",type:"boolean",default:!0},{dynamic:!0,name:"Event blocks",id:"event",type:"boolean",default:!0},{dynamic:!0,name:"Control blocks",id:"control",type:"boolean",default:!0},{dynamic:!0,name:"Operator blocks",id:"operator",type:"boolean",default:!0},{dynamic:!0,name:"Sensing blocks",id:"sensing",type:"boolean",default:!0},{dynamic:!0,name:"Data blocks",id:"data",type:"boolean",default:!0},{dynamic:!0,name:"Extension blocks",id:"extension",type:"boolean",default:!0},{dynamic:!0,name:"Addon blocks",id:"sa",type:"boolean",default:!0,if:{addonEnabled:["debugger"]}},{dynamic:!0,name:"Custom block arguments",id:"customargs",type:"boolean",default:!0},{dynamic:!0,name:"Shown custom block arguments options",id:"customargsmode",type:"select",default:"defOnly",potentialValues:[{id:"defOnly",name:"Arguments in own custom block"},{id:"all",name:"Arguments in all custom blocks in sprite"}],if:{settings:{customargs:!0}}},{dynamic:!0,name:"Show option to change block to self",id:"noop",type:"boolean",default:!0}],enabledByDefault:!0}},"./src/addons/addons/blocks2image/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Save blocks as image",description:"Right click the code area to export blocks as SVG/PNG images.",tags:[],credits:[{name:"summerscar"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],enabledByDefault:!1}},"./src/addons/addons/cat-blocks/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Cat blocks",description:"Brings back editor cat hat blocks from April Fools 2020.",credits:[{name:"TheColaber",link:"https://scratch.mit.edu/users/TheColaber/"},{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],info:[{type:"notice",text:'The "watch mouse cursor" setting may impact performance when the editor is open.',id:"watch"}],settings:[{id:"watch",name:"Watch mouse cursor",default:!1,type:"boolean"}],tags:["theme"],enabledByDefault:!1}},"./src/addons/addons/clones/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Clone counter",description:"Adds a counter above the stage in the editor which shows the total amount of clones.",credits:[{name:"Jeffalo"},{name:"OregSam",link:"https://scratch.mit.edu/users/simiagain/"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],settings:[{dynamic:!0,id:"showicononly",name:"Show icon only",default:!1,type:"boolean"}],tags:["recommended"],enabledByDefault:!1}},"./src/addons/addons/color-picker/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Hex color picker",description:"Adds hex code inputs to color pickers.",tags:["recommended"],credits:[{name:"Richie Bendall"},{name:"apple502j"}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],dynamicDisable:!0,enabledByDefault:!0}},"./src/addons/addons/columns/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Two-column category menu",description:"Splits the block category menu into two columns and moves it to the top of the block palette, like in Scratch 2.0.",credits:[{name:"TheColaber",link:"https://scratch.mit.edu/TheColaber"}],tags:[],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}]}},"./src/addons/addons/custom-block-shape/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Customizable block shape",description:"Adjust the padding, corner radius, and notch height of blocks.",tags:["theme"],credits:[{name:"SheepTester",link:"https://scratch.mit.edu/users/Sheep_maker/"},{name:"lisa_wolfgang",link:"https://scratch.mit.edu/users/lisa_wolfgang/"},{name:"GarboMuffin",link:"https://scratch.mit.edu/users/GarboMuffin/"}],enabledByDefault:!1,dynamicDisable:!0,userscripts:[{url:"userscript.js"}],info:[{type:"notice",text:"Decreasing the padding size is only visible to you, so when your projects are viewed by other users, your scripts may overlap.",id:"paddingWarning"}],settings:[{dynamic:!0,name:"Padding size (50-200%)",id:"paddingSize",type:"integer",min:50,default:100,max:200},{dynamic:!0,name:"Corner size (0-300%)",id:"cornerSize",type:"integer",min:0,default:100,max:300},{dynamic:!0,name:"Notch height (0-150%)",id:"notchSize",type:"integer",min:0,default:100,max:150}],presets:[{name:"3.0 Blocks",id:"default3",description:"The regular appearance of Scratch 3.0 blocks",values:{paddingSize:100,cornerSize:100,notchSize:100}},{name:"2.0 Blocks",id:"default2",description:"An appearance similar to Scratch 2.0 blocks",values:{paddingSize:70,cornerSize:150,notchSize:75}},{name:"3.0 Flat",id:"flat3",description:"Scratch 3.0 blocks with notches and corners removed",values:{paddingSize:100,cornerSize:0,notchSize:0}},{name:"2.0 Flat",id:"flat2",description:"Scratch 2.0 blocks with notches and corners removed",values:{paddingSize:70,cornerSize:0,notchSize:0}}]}},"./src/addons/addons/custom-block-text/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={name:"Customizable block text style",description:"Changes the thickness of the text on blocks and optionally adds a text shadow.",tags:[],credits:[{name:"Secret-chest"},{name:"_nix",link:"https://scratch.mit.edu/users/_nix"}],userstyles:[{url:"text-bold.css",if:{settings:{bold:!0}}},{url:"text-shadow.css",if:{settings:{shadow:!0}}}],settings:[{dynamic:!0,name:"Bold text",id:"bold",type:"boolean",default:!1},{dynamic:!0,name:"Shadow under text",id:"shadow",type:"boolean",default:!1}],dynamicDisable:!0,enabledByDefault:!1}},"./src/addons/addons/custom-zoom/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Customizable code area zoom",description:"Choose custom settings for the minimum, maximum, speed, and start size of the zoom of scripts in the code area, and autohide the controls.",tags:[],credits:[{name:"ErrorGamer2000",link:"https://scratch.mit.edu/users/ErrorGamer2000/"}],enabledByDefault:!1,userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],settings:[{dynamic:!0,name:"Maximum Zoom (100-500%)",id:"maxZoom",type:"integer",min:100,default:300,max:500},{dynamic:!0,name:"Minimum Zoom (1-100%)",id:"minZoom",type:"integer",min:1,default:30,max:100},{dynamic:!0,name:"Start Zoom (50-500%)",id:"startZoom",type:"integer",min:50,default:68,max:500},{dynamic:!0,name:"Zoom Speed (50-200%)",id:"zoomSpeed",type:"integer",min:50,default:100,max:200},{name:"Autohide Zoom Controls",id:"autohide",type:"boolean",default:!1},{dynamic:!0,name:"Autohide Animation Speed",id:"speed",type:"select",potentialValues:[{id:"none",name:"Instant"},{id:"short",name:"Quick"},{id:"default",name:"Default"},{id:"long",name:"Slow"}],default:"default",if:{settings:{autohide:!0}}}]}},"./src/addons/addons/data-category-tweaks-v2/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Data category tweaks",description:'Provides tweaks for the Data ("Variables") block category.',credits:[{name:"GarboMuffin"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],settings:[{dynamic:!0,name:"Separate List Category",id:"separateListCategory",type:"boolean",default:!0},{dynamic:!0,name:"Separate Sprite-only Variables",id:"separateLocalVariables",type:"boolean",default:!1},{dynamic:!0,name:"Move data blocks above variables list",id:"moveReportersDown",type:"boolean",default:!1}],tags:["recommended"],enabledByDefault:!1}},"./src/addons/addons/debugger/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Debugger",description:'Adds a new "debugger" window to the editor. Allows for logging into the "Logs" tab of the debugger window using the "log", "warn" and "error" blocks.',credits:[{name:"Tacodiva",link:"https://scratch.mit.edu/users/Tacodude7729/"},{name:"GarboMuffin"},{name:"GrahamSH"},{name:"TheColaber"},{name:"retronbv"}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],settings:[{dynamic:!0,name:"Clear logs on green flag",id:"log_clear_greenflag",type:"boolean",default:!1},{dynamic:!0,name:"Log green flag clicks",id:"log_greenflag",type:"boolean",default:!1},{dynamic:!0,name:"Log clone creation",id:"log_clone_create",type:"boolean",default:!1},{dynamic:!0,name:"Log when max clones exceeded",id:"log_failed_clone_creation",type:"boolean",default:!0},{dynamic:!0,name:"Log broadcasts",id:"log_broadcasts",type:"boolean",default:!1}],tags:["beta"],enabledByDefault:!1}},"./src/addons/addons/debugger/module.js":function(e,t,s){"use strict";s.r(t),s.d(t,"isPaused",(function(){return u})),s.d(t,"setPaused",(function(){return b})),s.d(t,"onPauseChanged",(function(){return g})),s.d(t,"onSingleStep",(function(){return y})),s.d(t,"getRunningThread",(function(){return k})),s.d(t,"singleStep",(function(){return j})),s.d(t,"setup",(function(){return C}));var n=s("./src/addons/event-target.js");let o,a=!1,r=new WeakMap,i=!1,d=null;const l=new n.default;let c=Promise.resolve();const u=()=>a,m=e=>{if(e.updateMonitor||r.has(e))return;const t={time:o.runtime.currentMSecs,status:e.status};r.set(e,t),e.status=1},p=e=>{if(4===e.status)return;const t=r.get(e);t&&1!==e.status&&(t.status=e.status,e.status=1)},f=e=>{d=e},h=(e,t)=>{e.timer&&(e.timer.startTime+=o.runtime.currentMSecs-t.time);const s=e.peekStackFrame();s&&s.executionContext&&s.executionContext.timer&&(s.executionContext.timer.startTime+=o.runtime.currentMSecs-t.time)},b=e=>{const t=a!==e;if(t&&(a=e,l.dispatchEvent(new CustomEvent("change"))),a){c=c.then(()=>o.runtime.audioEngine.audioContext.suspend()),o.runtime.ioDevices.clock._paused||o.runtime.ioDevices.clock.pause(),o.runtime.threads.forEach(m);const e=o.runtime.sequencer.activeThread;e&&(f(e),l.dispatchEvent(new CustomEvent("step")))}if(!a&&t){c=c.then(()=>o.runtime.audioEngine.audioContext.resume()),o.runtime.ioDevices.clock.resume();for(const e of o.runtime.threads){const t=r.get(e);t&&(h(e,t),e.status=t.status)}r=new WeakMap,(e=>{const t=o.runtime.threads,s=_(e);if(-1!==s)for(let e=s;e<t.length;e++){const s=t[e],n=s.status;0!==n&&2!==n&&3!==n||(o.runtime.sequencer.activeThread=s,o.runtime.sequencer.stepThread(s))}})(d),d=null}},g=e=>{l.addEventListener("change",()=>e(a))},y=e=>{l.addEventListener("step",e)},k=()=>d,v=e=>{const t=r.get(e);return t?t.status:e.status},_=e=>e?o.runtime.threads.findIndex(t=>t.target===e.target&&t.topBlock===e.topBlock&&t.stackClick===e.stackClick&&t.updateMonitor===e.updateMonitor):-1,w=e=>{const t=o.runtime.threads;for(let s=e;s<t.length;s++){const e=t[s];if(e.updateMonitor)continue;if(e.isCompiled)continue;const n=v(e);if(0===n||2===n||3===n)return m(e),e}return null},j=()=>{if(d){const e=r.get(d);h(d,e),e.time=o.runtime.currentMSecs,(e=>{if(4===e.status)return!1;if(e.isCompiled)return!1;const t=e.peekStack();if(!t&&(e.popStack(),0===e.stack.length))return e.status=4,!1;i=!0,o.runtime.sequencer.activeThread=e;const s=["special error used by Scratch Addons for implementing single-stepping"];Object.defineProperty(e,"blockGlowInFrame",{set(e){throw s}});try{e.status=0,e.warpTimer&&e.warpTimer.start();try{o.runtime.sequencer.stepThread(e)}catch(e){if(e!==s)throw e}if(0!==e.status)return!1;for(e.peekStack()===t&&e.goToNextBlock();!e.peekStack();){if(e.popStack(),0===e.stack.length)return e.status=4,!1;const t=e.peekStackFrame();if(t.isLoop){if(e.peekStackFrame().warpMode)continue;return!1}if(t.waitingReporter)return!1;e.goToNextBlock()}return!0}finally{i=!1,o.runtime.sequencer.activeThread=null,Object.defineProperty(e,"blockGlowInFrame",{value:t,configurable:!0,enumerable:!0,writable:!0}),4!==e.status&&(e.status=1)}})(d)||(d=w(_(d)+1))}if(!d){f(w(0)),o.runtime.ioDevices.clock._pausedTime+=o.runtime.currentStepTime;const e=o.runtime.audioEngine.audioContext;for(const t of o.runtime.targets)for(const s of Object.keys(t.sprite.soundBank.soundPlayers)){const n=t.sprite.soundBank.soundPlayers[s];n.outputNode&&(n.outputNode.stop(e.currentTime),n._createSource(),n.outputNode.start(e.currentTime,e.currentTime-n.startingUntil+o.runtime.currentStepTime/1e3),n.startingUntil-=o.runtime.currentStepTime/1e3)}for(const e of o.runtime.threads)r.has(e)&&(r.get(e).time+=o.runtime.currentStepTime);i=!0;const t=o.runtime._hats;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].edgeActivated&&o.runtime.startHats(e);i=!1}l.dispatchEvent(new CustomEvent("step"))},C=e=>{if(o)return;o=e;const t=o.runtime.sequencer.stepThreads;o.runtime.sequencer.stepThreads=function(){if(u())for(const e of this.runtime.threads)p(e);return t.call(this)};const s=o.runtime.greenFlag;o.runtime.greenFlag=function(){return b(!1),s.call(this)};const n=o.runtime.startHats;o.runtime.startHats=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const o=t[0],r="event_whenbroadcastreceived"===o||"control_start_as_clone"===o;if(i){if(!r&&!this.getIsEdgeActivatedHat(o))return[];const e=n.apply(this,t);for(const t of e)m(t);return e}return a&&!r?[]:n.apply(this,t)};const d=o.runtime._getMonitorThreadCount;o.runtime._getMonitorThreadCount=function(e){let t=d.call(this,e);if(a)for(const s of e)r.has(s)&&t++;return t}}},"./src/addons/addons/default-costume-editor-color/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Customizable default costume editor colors",description:"Changes the default colors and outline size used by the costume editor.",credits:[{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],settings:[{dynamic:!0,name:"Default fill color",id:"fill",type:"color",default:"#9966FF"},{dynamic:!0,name:"Default outline color",id:"stroke",type:"color",default:"#000000"},{dynamic:!0,name:"Default outline size",id:"strokeSize",type:"integer",min:0,max:100,default:4},{dynamic:!0,name:"Use previous color instead of resetting after switching tools",id:"persistence",type:"boolean",default:!0}],tags:[],dynamicDisable:!0,enabledByDefault:!1}},"./src/addons/addons/disable-paste-offset/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Do not shift pasted items",description:"Paste copied items at their original position instead of shifted slightly in the costume editor.",info:[{text:"This behavior can also be achieved without this addon by Alt+Clicking the item.",id:"vanilla"}],credits:[{name:"GarboMuffin"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],tags:[],enabledByDefault:!1}},"./src/addons/addons/disable-stage-drag-select/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Non-draggable sprites in editor",description:"Removes the ability to drag sprites around on the stage in the editor, except those explicitly set as draggable. Hold Shift while dragging a sprite to move it normally.",credits:[{name:"Chrome_Cat",link:"https://scratch.mit.edu/users/Chrome_Cat/"},{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],tags:[],enabledByDefault:!1,dynamicDisable:!0}},"./src/addons/addons/drag-drop/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={noTranslations:!0,name:"File drag and drop",description:'Lets you drag images and sounds from your file manager into the sprite pane or costume/sound list. You can also drag text files into lists or "ask and wait" question inputs.',credits:[{name:"Sheep_maker"}],userscripts:[{url:"userscript.js"}],settings:[{dynamic:!0,id:"use-hd-upload",name:"Use HD uploads",type:"boolean",default:!1,if:{addonEnabled:"better-img-uploads"}}],dynamicDisable:!0,tags:["recommended"],enabledByDefault:!0}},"./src/addons/addons/drag-drop/_runtime_entry.js":function(e,t,s){"use strict";s.r(t),s.d(t,"resources",(function(){return n}));const n={"userscript.js":s("./src/addons/addons/drag-drop/userscript.js").default}},"./src/addons/addons/drag-drop/userscript.js":function(e,t,s){"use strict";s.r(t),t.default=async function(e){let{addon:t,console:s}=e,n=null;const o=new WeakMap,a=(e,t)=>{let s;o.has(e)?s=o.get(e):(s=e.animate([{},{backgroundColor:"hsla(0, 100%, 77%, 1)"}],{duration:250,fill:"forwards",easing:"ease"}),o.set(e,s)),s.playbackRate=t},r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;document.addEventListener("dragover",e=>{if(t.self.disabled)return;if(!e.dataTransfer.types.includes("Files"))return;let o,i;if((o=e.target.closest('div[class*="sprite-selector_sprite-selector"]'))||(o=e.target.closest('div[class*="stage-selector_stage-selector"]'))||(o=e.target.closest('div[class*="selector_wrapper"]'))?i=e=>{const s=t.settings.get("use-hd-upload")?"":":not(.sa-better-img-uploads-input)",n=o.querySelector('input[class*="action-menu_file-input"]'+s);n.files=e,n.dispatchEvent(new Event("change",{bubbles:!0}))}:(o=e.target.closest('div[class*="monitor_list-monitor"]'))?i=e=>{const t=document.querySelector("body > .react-contextmenu.react-contextmenu--visible");o.dispatchEvent(new MouseEvent("contextmenu",{bubbles:!0}));const n=document.querySelector("body > .react-contextmenu.react-contextmenu--visible"),a=null===n?t:n;a.style.display="none";const r=document.body.appendChild;document.body.appendChild=t=>{if(document.body.appendChild=r,!(t instanceof HTMLInputElement))return s.error('File input was not immediately given to appendChild upon clicking "Import"!'),r(t);document.body.appendChild(t),t.click=()=>{},t.files=e,t.dispatchEvent(new Event("change")),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{a.style.display=null,a.style.opacity=0,a.style.pointerEvents="none"})})},a.children[0].click()}:(o=e.target.closest('div[class*="question_question-input"] > input[class*="input_input-form_l9eYg"]'))&&(i=async e=>{const t=(await Promise.all(Array.from(e,e=>e.text()))).join("").replace(/[\r\n]+$/,"").replace(/\r?\n|\r/g," "),s=o.selectionStart;((e,t)=>{r.call(e,t),e.dispatchEvent(new Event("change",{bubbles:!0}))})(o,o.value.slice(0,s)+t+o.value.slice(o.selectionEnd)),o.setSelectionRange(s,s+t.length)}),!o)return;if(e.preventDefault(),o===n)return;n=o;const d=[o,o.querySelector('div[class*="stage-selector_header_"]'),o.querySelector('div[class*="sprite-info_sprite-info"]'),o.querySelector('div[class*="monitor_list-body"]')].filter(e=>e);for(const e of d)a(e,1);const l=e=>{e.preventDefault(),m(),e.dataTransfer.types.includes("Files")&&e.dataTransfer.files.length>0&&i(e.dataTransfer.files)},c=e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"};e.dataTransfer.dropEffect="copy";const u=e=>{e.preventDefault(),m()},m=()=>{n=null,o.removeEventListener("dragover",c),o.removeEventListener("dragleave",u),o.removeEventListener("drop",l);for(const e of d)a(e,-1)};o.addEventListener("dragover",c),o.addEventListener("dragleave",u),o.addEventListener("drop",l)},{useCapture:!0})}},"./src/addons/addons/editor-buttons-reverse-order/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={name:"Reverse order of project controls",description:"Moves the green flag and stop buttons to the right and the full screen button to the left, like in Scratch 2.0.",tags:["theme"],dynamicDisable:!0,userstyles:[{url:"userstyle.css"}]}},"./src/addons/addons/editor-colored-context-menus/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Colored context menus",description:"Makes block right click context menus colorful.",credits:[{name:"GarboMuffin"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"userscript.css"}],tags:["theme"],enabledByDefault:!1}},"./src/addons/addons/editor-comment-previews/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Editor comment previews",description:"Allows you to preview the contents of comments by hovering over collapsed comments and blocks. You can use this to view comments that are off-screen, identify a loop block from the bottom by its preview, fit many long comments in a small space, and more.",tags:[],credits:[{name:"lisa_wolfgang",link:"https://scratch.mit.edu/users/lisa_wolfgang/"},{name:"GarboMuffin"}],userstyles:[{url:"userstyle.css"}],userscripts:[{url:"userscript.js"}],settings:[{dynamic:!0,name:"Hover collapsed comments to preview",id:"hover-view",type:"boolean",default:!0},{dynamic:!0,name:"Hover blocks to preview attached comments",id:"hover-view-block",type:"boolean",default:!0},{dynamic:!0,name:"Hover custom blocks to preview definition comments",id:"hover-view-procedure",type:"boolean",default:!0},{dynamic:!0,name:"Delay duration",id:"delay",type:"select",potentialValues:[{name:"None",id:"none"},{name:"Short",id:"short"},{name:"Long",id:"long"}],default:"short"},{dynamic:!0,name:"Follow mouse",id:"follow-mouse",type:"boolean",default:!0},{dynamic:!0,name:"Reduce transparency",id:"reduce-transparency",type:"boolean",default:!1},{dynamic:!0,name:"Reduce animation",id:"reduce-animation",type:"boolean",default:!1}],dynamicDisable:!0,enabledByDefault:!0}},"./src/addons/addons/editor-devtools/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Developer tools",description:"Adds new menu options to the editor: copy/paste blocks, better clean up, and more!",credits:[{name:"griffpatch"}],settings:[{dynamic:!0,name:'Enhance "Clean up Blocks"',id:"enableCleanUpPlus",type:"boolean",default:!0},{dynamic:!0,name:"Paste blocks at mouse cursor",id:"enablePasteBlocksAtMouse",type:"boolean",default:!0}],userscripts:[{url:"userscript.js"}],tags:["recommended"],enabledByDefault:!0}},"./src/addons/addons/editor-extra-keys/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Extra key options",description:'Adds more keys to the "key () pressed?" and "when () key pressed" block dropdowns, such as enter, dot, comma, and more. These keys will work even for users who do not have this addon.',tags:["beta"],credits:[{name:"Tacodiva",link:"https://scratch.mit.edu/users/Tacodude7729/"}],info:[{type:"notice",text:'The "experimental keys" include equals, slash, semicolon and more. They may not work on all operating systems or keyboard layouts.',id:"experimentalKeysWarn"},{type:"notice",text:'The "Shift keys" include keys which typically require the Shift key and a number key, like hashtag, exclamation mark and more. These keys only work with the "when () key pressed" block and do not work on all operating systems or keyboard layouts.',id:"shiftKeysWarn"},{type:"warning",text:'The "TurboWarp keys" will only work in TurboWarp, not in Scratch.',id:"twKeysWarn"}],settings:[{dynamic:!0,name:"Show experimental keys",id:"experimentalKeys",type:"boolean",default:!0},{dynamic:!0,name:"Show Shift keys",id:"shiftKeys",type:"boolean",default:!0},{dynamic:!0,name:"Show TurboWarp keys",id:"twKeys",type:"boolean",default:!1}],userscripts:[{url:"userscript.js"}],dynamicDisable:!0,enabledByDefault:!0}},"./src/addons/addons/editor-searchable-dropdowns/_manifest_entry.js":function(e,t,s){"use strict";s.r(t);const n={editorOnly:!0,name:"Searchable dropdowns",description:"Allows you to search block dropdowns.",credits:[{name:"GarboMuffin"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"userscript.css"}],tags:["recommended"],enabledByDefault:!0};s("./src/addons/environment.js").isMobile&&(n.enabledByDefault=!1),t.default=n},"./src/addons/addons/editor-sounds/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Editor sound effects",description:"Plays sound effects when you connect or delete blocks.",credits:[{name:"GarboMuffin"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],tags:[],enabledByDefault:!1}},"./src/addons/addons/editor-stage-left/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={noTranslations:!0,name:"Display stage on left side",description:"Moves the stage to the left side of the editor, like in Scratch 2.0.",info:[{id:"reverseOrder",text:'To change the position of buttons above the stage, use the "reverse order of project controls" addon.'}],credits:[{name:"NitroCipher/ZenithRogue"}],userscripts:[{url:"fix-share-the-love.js"}],dynamicDisable:!0,userstyles:[{url:"stageleft.css"}],tags:["theme"],enabledByDefault:!1}},"./src/addons/addons/editor-stepping/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,noCompiler:!0,name:"Running block border",description:"Adds a colored highlight to the blocks that are currently being executed in a project.",dynamicDisable:!0,userscripts:[{url:"userscript.js"}],settings:[{dynamic:!0,name:"Highlight color",id:"highlight-color",type:"color",default:"#0000ff"}],tags:[],enabledByDefault:!1}},"./src/addons/addons/editor-theme3/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Customizable block colors",description:"Edit block colors for each category in the editor.",credits:[{name:"NitroCipher/ZenithRogue"},{name:"TheColaber",link:"https://scratch.mit.edu/users/TheColaber/"}],customCssVariables:[{name:"inputColor-text",value:{type:"alphaThreshold",source:{type:"settingValue",settingId:"input-color"},opaque:{type:"textColor",source:{type:"settingValue",settingId:"input-color"}},transparent:{type:"map",source:{type:"settingValue",settingId:"text"},options:{white:"#ffffff",black:"#575e75",colorOnWhite:"#575e75",colorOnBlack:"#ffffff"}}}},{name:"inputColor-forumText",value:{type:"alphaThreshold",source:{type:"settingValue",settingId:"input-color"},opaque:{type:"textColor",black:"#000000",source:{type:"settingValue",settingId:"input-color"}},transparent:{type:"map",source:{type:"settingValue",settingId:"text"},options:{white:"#ffffff",black:"#000000",colorOnWhite:"#000000",colorOnBlack:"#ffffff"}}}},{name:"commentText",value:{type:"textColor",source:{type:"settingValue",settingId:"comment-color"}}},{name:"commentTextTransparent",value:{type:"textColor",black:"rgba(0, 0, 0, 0.50)",white:"rgba(255, 255, 255, 0.50)",source:{type:"settingValue",settingId:"comment-color"}}},{name:"commentBorder",value:{type:"multiply",source:{type:"settingValue",settingId:"comment-color"},r:.7,g:.7,b:.7}}],dynamicDisable:!0,userscripts:[{url:"theme3.js"}],userstyles:[{url:"theme3.css"},{url:"black_text.css",if:{settings:{text:"black"}}},{url:"color_on_white.css",if:{settings:{text:"colorOnWhite"}}},{url:"color_on_black.css",if:{settings:{text:"colorOnBlack"}}}],settings:[{dynamic:!0,name:"motion",id:"motion-color",type:"color",default:"#4C97FF",allowTransparency:!0},{dynamic:!0,name:"looks",id:"looks-color",type:"color",default:"#9966FF",allowTransparency:!0},{dynamic:!0,name:"sounds",id:"sounds-color",type:"color",default:"#CF63CF",allowTransparency:!0},{dynamic:!0,name:"events",id:"events-color",type:"color",default:"#FFBF00",allowTransparency:!0},{dynamic:!0,name:"control",id:"control-color",type:"color",default:"#FFAB19",allowTransparency:!0},{dynamic:!0,name:"sensing",id:"sensing-color",type:"color",default:"#5CB1D6",allowTransparency:!0},{dynamic:!0,name:"operators",id:"operators-color",type:"color",default:"#59C059",allowTransparency:!0},{dynamic:!0,name:"variables",id:"data-color",type:"color",default:"#FF8C1A",allowTransparency:!0},{dynamic:!0,name:"lists",id:"data-lists-color",type:"color",default:"#FF661A",allowTransparency:!0},{dynamic:!0,name:"custom",id:"custom-color",type:"color",default:"#FF6680",allowTransparency:!0},{dynamic:!0,name:"extensions",id:"Pen-color",type:"color",default:"#0FBD8C",allowTransparency:!0},{dynamic:!0,name:"TurboWarp",id:"tw-color",type:"color",default:"#ff4c4c",allowTransparency:!0},{dynamic:!0,name:"Addon blocks",id:"sa-color",type:"color",default:"#29BEB8",allowTransparency:!0,if:{addonEnabled:["debugger"]}},{dynamic:!0,name:"Block inputs",id:"input-color",type:"color",default:"#FFFFFF",allowTransparency:!0},{dynamic:!0,name:"Comments",id:"comment-color",type:"color",default:"#FEF49C"},{dynamic:!0,name:"Text color",id:"text",type:"select",default:"white",potentialValues:[{id:"white",name:"White"},{id:"black",name:"Black"},{id:"colorOnWhite",name:"Colored on white background"},{id:"colorOnBlack",name:"Colored on black background"}]}],tags:["theme"],enabledByDefault:!1,presets:[{name:"3.0 Tweaks",id:"tweaks",description:"Events, Control, and Custom blocks with 2.0 inspired colors",values:{"motion-color":"#4C97FF","looks-color":"#9966FF","sounds-color":"#CF63CF","events-color":"#DE9E2E","control-color":"#FFBF00","sensing-color":"#5CB1D6","operators-color":"#59C059","data-color":"#FF8C1A","data-lists-color":"#FF661A","custom-color":"#5f49d8","Pen-color":"#0FBD8C","sa-color":"#29BEB8","comment-color":"#FEF49C","input-color":"#FFFFFF",text:"white"}},{name:"2.0 Colors",id:"original",description:"The original block colors from Scratch 2.0",values:{"motion-color":"#4a6cd4","looks-color":"#8a55d7","sounds-color":"#bb42c3","events-color":"#c88330","control-color":"#e1a91a","sensing-color":"#2ca5e2","operators-color":"#5cb712","data-color":"#ee7d16","data-lists-color":"#cc5b22","custom-color":"#632d99","Pen-color":"#0e9a6c","sa-color":"#29beb8","comment-color":"#FFFFD2","input-color":"#ffffff",text:"white"}},{name:"Dark",id:"dark",description:"Dark versions of the default colors",values:{"motion-color":"#004099","looks-color":"#220066","sounds-color":"#752475","events-color":"#997300","control-color":"#664100","sensing-color":"#1f5f7a","operators-color":"#235c23","data-color":"#b35900","data-lists-color":"#993300","custom-color":"#99004d","Pen-color":"#064734","tw-color":"#660000","sa-color":"#166966","comment-color":"#423f24","input-color":"#202020",text:"white"}},{name:"Black",id:"black",description:"Makes block backgrounds black",values:{"motion-color":"#4C97FF","looks-color":"#9966FF","sounds-color":"#CF63CF","events-color":"#FFBF00","control-color":"#FFAB19","sensing-color":"#5CB1D6","operators-color":"#59C059","data-color":"#FF8C1A","data-lists-color":"#FF661A","custom-color":"#FF6680","Pen-color":"#0FBD8C","sa-color":"#29BEB8","comment-color":"#FEF49C","input-color":"#202020",text:"colorOnBlack"}}]}},"./src/addons/addons/find-bar/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Editor find bar",description:"Adds a find bar to find and jump to scripts, costumes and sounds next to the sounds tab. Use Ctrl+Left and Ctrl+Right in the code area to navigate to previous or next visited position after using the find bar.",info:[{text:'This addon was previously part of the "developer tools" addon but has moved here.',id:"developer-tools"}],credits:[{name:"griffpatch"},{name:"TheColaber",link:"https://scratch.mit.edu/users/thecolaber/"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"userstyle.css"}],tags:["recommended"],enabledByDefault:!0}},"./src/addons/addons/find-bar/blockly/BlockFlasher.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return n}));class n{static flash(e){o.timerID>0&&(clearTimeout(o.timerID),o.block.svgPath_&&(o.block.svgPath_.style.fill=""));let t=4,s=!0;o.block=e,function e(){o.block.svgPath_&&(o.block.svgPath_.style.fill=s?"#ffff80":""),s=!s,t--,t>0?o.timerID=setTimeout(e,200):(o.timerID=0,o.block=null)}()}}const o={block:null,timerID:null}},"./src/addons/addons/find-bar/blockly/BlockInstance.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return n}));class n{constructor(e,t){this.targetId=e.id,this.id=t.id}}},"./src/addons/addons/find-bar/blockly/Utils.js":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return i}));var n=s("./src/addons/addons/find-bar/blockly/BlockInstance.js"),o=s("./src/addons/addons/find-bar/blockly/BlockFlasher.js");let a=[],r=[];class i{constructor(e){this.addon=e,this.addon.tab.traps.getBlockly().then(e=>{this.blockly=e}),this.vm=this.addon.tab.traps.vm,this.offsetX=32,this.offsetY=32,this.navigationHistory=new d,this._workspace=null}getEditingTarget(){return this.vm.runtime.getEditingTarget()}setEditingTarget(e){this.getEditingTarget().id!==e&&this.vm.setEditingTarget(e)}getWorkspace(){const e=Blockly.getMainWorkspace();return e.getToolbox()&&(this._workspace=e),this._workspace}scrollBlockIntoView(e){var t;let s,a=this.getWorkspace();if(e instanceof n.default?(this.setEditingTarget(e.targetId),s=a.getBlockById(e.id)):s=e&&e.id?e:a.getBlockById(e),!s)return;let r=s.getRootBlock(),i=this.getTopOfStackFor(s).getRelativeToSurfaceXY(),d=r.getRelativeToSurfaceXY(),l=a.scale,c=d.x*l,u=i.y*l,m=s.width+c,p=s.height+u,f=a.getMetrics();if(c<f.viewLeft+this.offsetX-4||m>f.viewLeft+f.viewWidth||u<f.viewTop+this.offsetY-4||p>f.viewTop+f.viewHeight){let e=c-f.contentLeft-this.offsetX,t=u-f.contentTop-this.offsetY;this.navigationHistory.storeView(this.navigationHistory.peek(),64),a.scrollbar.set(e,t),this.navigationHistory.storeView({left:e,top:t},64)}null===(t=this.blockly)||void 0===t||t.hideChaff(),o.default.flash(s)}getTopOfStackFor(e){let t=e;for(;t.getOutputShape()&&t.getSurroundParent();)t=t.getSurroundParent();return t}}class d{storeView(e,t){r=[];let s=Blockly.getMainWorkspace().getMetrics(),n={left:s.viewLeft,top:s.viewTop};(!e||l(n,e)>t)&&a.push(n)}peek(){return a.length>0?a[a.length-1]:null}goBack(){const e=Blockly.getMainWorkspace(),t=e.getMetrics();let s={left:t.viewLeft,top:t.viewTop},n=this.peek();if(!n)return;if(l(s,n)<64&&a.length>1&&(a.pop(),r.push(n)),n=this.peek(),!n)return;let o=n.left-t.contentLeft,i=n.top-t.contentTop;e.scrollbar.set(o,i)}goForward(){let e=r.pop();if(!e)return;a.push(e);let t=Blockly.getMainWorkspace(),s=t.getMetrics(),n=e.left-s.contentLeft,o=e.top-s.contentTop;t.scrollbar.set(n,o)}}function l(e,t){return Math.sqrt(Math.pow(e.left-t.left,2)+Math.pow(e.top-t.top,2))}},"./src/addons/addons/folders/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Sprite folders",description:'Adds folders to the sprite pane, as well as costume and sound lists. To create a folder, right click any sprite and click "create folder". Click a folder to open or close it. Right click a sprite to see what folders you can move it to, or alternatively drag and drop it into an open folder. This feature works by adding "[folderName]//" at the beginning of the names for your sprites.',info:[{type:"notice",text:"Users with this feature enabled will be able to see the folders in your project. Anyone else will see sprite lists normally (no folders).",id:"notice-folders-are-public"}],credits:[{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],tags:["recommended"],enabledByDefault:!0}},"./src/addons/addons/fullscreen/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={name:"Enhanced full screen",description:"Fixes some undesired effects in the project player's full screen mode, opens it in your browser's full screen mode, and hides the green flag toolbar.",credits:[{name:"lisa_wolfgang",link:"https://scratch.mit.edu/users/lisa_wolfgang/"}],info:[{type:"notice",text:"If you choose to hide the toolbar, remember that you can use the Esc key to exit the project player's full screen mode.",id:"hideToolbarNotice"}],settings:[{dynamic:!0,name:"Open full screen project player in full screen browser mode",id:"browserFullscreen",type:"boolean",default:!0},{dynamic:!0,name:"Hide toolbar in full screen",id:"hideToolbar",type:"boolean",default:!1}],dynamicDisable:!0,userstyles:[{url:"hideOverflow.css"},{url:"removeBorder.css"},{url:"resizeWindow.css",if:{settings:{hideToolbar:!1}}},{url:"resizeWindow_noToolbar.css",if:{settings:{hideToolbar:!0}}},{url:"hideToolbar.css",if:{settings:{hideToolbar:!0}}}],userscripts:[{url:"userscript.js"}],tags:["beta"],enabledByDefault:!1}},"./src/addons/addons/gamepad/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={name:"Gamepad support",description:"Interact with projects using a USB or Bluetooth controller/gamepad.",credits:[{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"},{url:"gamepadlib.css"}],settings:[{dynamic:!0,name:"Hide settings button when no controllers detected",type:"boolean",default:!1,id:"hide"}],tags:[],enabledByDefault:!1,dynamicDisable:!0}},"./src/addons/addons/hide-delete-button/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={name:"Hide delete button",description:"Hides delete button (trash can icon) from sprites, costumes and sounds. They can still be deleted using the right click context menu.",tags:[],dynamicDisable:!0,settings:[{dynamic:!0,name:"Sprites",id:"sprites",type:"boolean",default:!0},{dynamic:!0,name:"Costumes and backdrops",id:"costumes",type:"boolean",default:!0},{dynamic:!0,name:"Sounds",id:"sounds",type:"boolean",default:!0}],userstyles:[{url:"sprites.css",if:{settings:{sprites:!0}}},{url:"costumes.css",if:{settings:{costumes:!0}}},{url:"sounds.css",if:{settings:{sounds:!0}}}]}},"./src/addons/addons/hide-flyout/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Auto-hiding block palette",description:'Hides the block palette if not hovered. Click the lock icon to lock it in place temporarily. Alternatively, use "category click" mode.',credits:[{name:"TheColaber",link:"https://scratch.mit.edu/users/TheColaber/"},{name:"Maximouse",link:"https://scratch.mit.edu/users/Maximouse/"}],info:[{text:'"Palette area hover" mode only extends the viewing area. If you want to be able to drag blocks into that area without them getting trashed, use one of the other modes.',id:"hoverExplanation"}],dynamicDisable:!0,customCssVariables:[{name:"lockDisplay",value:{type:"map",source:{type:"settingValue",settingId:"toggle"},options:{hover:"flex",cathover:"flex",category:"none"}}},{name:"placeholderDisplay",value:{type:"map",source:{type:"settingValue",settingId:"toggle"},options:{hover:"block",cathover:"none",category:"none"}}}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],settings:[{dynamic:!0,name:"Toggle on...",id:"toggle",type:"select",potentialValues:[{id:"hover",name:"Palette area hover"},{id:"cathover",name:"Category hover"},{id:"category",name:"Category click"}],default:"cathover"},{dynamic:!0,name:"Animation speed",id:"speed",type:"select",potentialValues:[{id:"none",name:"Instant"},{id:"short",name:"Quick"},{id:"default",name:"Default"},{id:"long",name:"Slow"}],default:"default"}],tags:["recommended"]}},"./src/addons/addons/hide-new-variables/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Hide new variables",description:"Do not automatically create monitors for newly created variables or lists.",credits:[{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],tags:[],dynamicDisable:!0}},"./src/addons/addons/hide-stage/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Hide stage and sprite pane",description:'Adds a button next to the "small stage" and "large stage" buttons that hides the stage and the sprite pane, making the code area much larger.',credits:[{name:"Maximouse",link:"https://scratch.mit.edu/users/Maximouse/"}],dynamicDisable:!0,enabledByDefault:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],tags:[]}},"./src/addons/addons/initialise-sprite-position/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Customizable new sprite position",description:"Change the default x/y position of new sprites.",credits:[{name:"pufferfish101007",link:"https://scratch.mit.edu/users/pufferfish101007/"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],settings:[{dynamic:!0,id:"x",name:"X position",type:"integer",default:0,min:-240,max:240},{dynamic:!0,id:"y",name:"Y position",type:"integer",default:0,min:-180,max:180},{dynamic:!0,id:"library",name:"Randomize the position of library sprites",type:"boolean",default:!1},{dynamic:!0,id:"duplicate",name:"Behavior when duplicating sprites",type:"select",default:"randomize",potentialValues:[{id:"custom",name:"Send to specified x/y values"},{id:"keep",name:"Keep the same as the original sprite"},{id:"randomize",name:"Randomize"}]}],tags:[],enabledByDefault:!1}},"./src/addons/addons/jump-to-def/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={name:"Jump to custom block definition",description:"Allows you to jump to a custom block's definition using the middle mouse button or Shift+Click on the block.",info:[{text:'This addon was previously part of the "developer tools" addon but has moved here.',id:"developer-tools"}],credits:[{name:"griffpatch"}],userscripts:[{url:"userscript.js"}],tags:["recommended"],enabledByDefault:!0,dynamicDisable:!0}},"./src/addons/addons/jump-to-def/_runtime_entry.js":function(e,t,s){"use strict";s.r(t),s.d(t,"resources",(function(){return n}));const n={"userscript.js":s("./src/addons/addons/jump-to-def/userscript.js").default}},"./src/addons/addons/jump-to-def/userscript.js":function(e,t,s){"use strict";s.r(t);var n=s("./src/addons/addons/find-bar/blockly/Utils.js");t.default=async function(e){let{addon:t,msg:s,console:o}=e;const a=new n.default(t),r=await t.tab.traps.getBlockly();Object.defineProperty(r.Gesture.prototype,"jumpToDef",{get:()=>!t.self.disabled});const i=r.Gesture.prototype.doBlockClick_;r.Gesture.prototype.doBlockClick_=function(){if(!t.self.disabled&&(1===this.mostRecentEvent_.button||this.mostRecentEvent_.shiftKey)){let e=this.startBlock_;for(;e;e=e.getSurroundParent())if("procedures_call"===e.type){let t=e.getProcCode(),s=a.getWorkspace().getTopBlocks();for(const e of s)if("procedures_definition"===e.type){let s=e.getChildren()[0].getProcCode();if(s&&s===t)return void a.scrollBlockIntoView(e)}}}i.call(this)}}},"./src/addons/addons/load-extensions/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Automatically add extensions",description:"Auto-shows music, pen, and other extensions in the block category menu in the editor.",userscripts:[{url:"userscript.js"}],settings:[{name:"Music",id:"music",type:"boolean",default:!0},{name:"Pen",id:"pen",type:"boolean",default:!0},{name:"Text to Speech",id:"text2speech",type:"boolean",default:!1},{name:"Translate",id:"translate",type:"boolean",default:!1}],dynamicDisable:!0,tags:[]}},"./src/addons/addons/mediarecorder/_manifest_entry.js":function(e,t,s){"use strict";s.r(t);const n={name:"Project video recorder",description:'Adds a "start recording" button to the editor menu bar that allows you to record the project\'s stage.',tags:["recommended"],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],enabledByDefault:!1};s("./src/addons/environment.js").mediaRecorderSupported||(n.unsupported=!0),t.default=n},"./src/addons/addons/middle-click-popup/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Insert blocks by name",description:"Middle click on the code area, use Ctrl+Space or Shift+Click to bring up a floating input box where you can type the name of a block (or parts of it) and drag the block into the code area. Hold Shift while dragging to avoid closing the box when adding multiple blocks at once.",credits:[{name:"griffpatch"},{name:"TheColaber",link:"https://scratch.mit.edu/users/TheColaber/"}],tags:["recommended"],enabledByDefault:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"userstyle.css"}],info:[{text:'This addon was previously part of the "developer tools" addon but has moved here.',id:"developer-tools"}]}},"./src/addons/addons/mouse-pos/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Mouse position",description:"Displays your mouse x/y position above the stage in the editor.",credits:[{name:"Jeffalo"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],tags:["recommended"],enabledByDefault:!1}},"./src/addons/addons/move-to-top-bottom/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={enabledByDefault:!0,editorOnly:!0,name:"Move costume to top or bottom",description:"Adds options to the right click context menu for costumes and sounds to move them to the top or the bottom of the list.",info:[{text:'This addon was previously part of the "developer tools" addon but has moved here.',id:"developer-tools"}],tags:[],userscripts:[{url:"userscript.js"}],dynamicDisable:!0}},"./src/addons/addons/mute-project/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={noTranslations:!0,name:"Muted project player mode",description:"Ctrl+Click the green flag to mute/unmute the project.",info:[{text:"On macOS, use the Cmd key instead of the Ctrl key.",id:"macOS"}],credits:[{name:"TheColaber",link:"https://scratch.mit.edu/users/TheColaber/"}],userscripts:[{url:"userscript.js"}],dynamicDisable:!0,enabledByDefault:!0,tags:["recommended"]}},"./src/addons/addons/mute-project/_runtime_entry.js":function(e,t,s){"use strict";s.r(t),s.d(t,"resources",(function(){return a}));var n=s("./src/addons/addons/mute-project/userscript.js"),o=s("./node_modules/url-loader/dist/cjs.js!./src/addons/addons/mute-project/mute.svg");const a={"userscript.js":n.default,"mute.svg":o.default}},"./src/addons/addons/mute-project/userscript.js":function(e,t,s){"use strict";s.r(t);var n=s("./src/addons/addons/vol-slider/module.js");t.default=async function(e){let{addon:t,console:s}=e;const o=t.tab.traps.vm;Object(n.setup)(o);const a=document.createElement("img");a.loading="lazy",a.src=t.self.getResource("/mute.svg"),a.className="sa-mute-project-icon",a.style.userSelect="none",t.tab.displayNoneWhileDisabled(a);const r=()=>{a.style.display=t.self.disabled||!Object(n.isMuted)()?"none":""};Object(n.onVolumeChanged)(r),r();const i=e=>{t.self.disabled||!e.ctrlKey&&!e.metaKey||(e.cancelBubble=!0,e.preventDefault(),Object(n.setMuted)(!Object(n.isMuted)()))};for(t.self.addEventListener("disabled",()=>{Object(n.isMuted)()&&Object(n.setMuted)(!1)});;){let e=await t.tab.waitForElement("[class^='green-flag_green-flag']",{markAsSeen:!0,reduxEvents:["scratch-gui/mode/SET_PLAYER","fontsLoaded/SET_FONTS_LOADED","scratch-gui/locales/SELECT_LOCALE"]});t.tab.appendToSharedSpace({space:"afterStopButton",element:a,order:0}),e.addEventListener("click",i),e.addEventListener("contextmenu",i)}}},"./src/addons/addons/no-script-bumping/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Do not automatically space overlapping scripts",description:"Allows scripts to be moved and modified without causing overlapping scripts to move around.",credits:[{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],dynamicDisable:!0,tags:[],enabledByDefault:!1}},"./src/addons/addons/number-pad/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Always show number pad",description:"Show Scratch's number pad input when editing number fields on all devices, instead of only touchscreen devices.",credits:[{name:"GarboMuffin"}],info:[{text:'A number pad will show when editing number inputs from certain blocks, such as "set x to".',id:"explanation"}],tags:["new"],userscripts:[{url:"userscript.js"}],dynamicDisable:!0}},"./src/addons/addons/onion-skinning/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Onion skinning",description:"Shows transparent overlays of previous or next costumes when editing a costume. Controlled by buttons under the costume editor by the zoom buttons.",credits:[{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],settings:[{id:"default",name:"Enable by default",type:"boolean",default:!1},{id:"previous",name:"Default previous costumes",type:"integer",default:1,min:0,max:100},{id:"next",name:"Default next costumes",type:"integer",default:0,min:0,max:100},{id:"opacity",name:"Opacity (%)",type:"integer",min:0,max:100,default:25},{id:"opacityStep",name:"Opacity Step (%)",type:"integer",min:0,max:100,default:10},{id:"layering",name:"Default layering",type:"select",default:"front",potentialValues:[{id:"front",name:"Front"},{id:"behind",name:"Behind"}]},{id:"mode",name:"Default mode",type:"select",default:"merge",potentialValues:[{id:"merge",name:"Merge images"},{id:"tint",name:"Color tint"}]},{name:"Previous costume tint",id:"beforeTint",type:"color",default:"#FF0000"},{name:"Next costume tint",id:"afterTint",type:"color",default:"#0000FF"}],tags:["recommended"],dynamicDisable:!0,enabledByDefault:!0}},"./src/addons/addons/paint-by-default/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Paint costume by default",description:'Changes the default action of "Choose a Sprite/Costume/Backdrop/Sound" buttons, which open the library by default.',credits:[{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],settings:[{dynamic:!0,id:"sprite",name:"Add sprite",type:"select",potentialValues:[{id:"library",name:"Library"},{id:"paint",name:"Paint"},{id:"surprise",name:"Surprise"},{id:"upload",name:"Upload"}],default:"paint"},{dynamic:!0,id:"costume",name:"Add costume",type:"select",potentialValues:[{id:"library",name:"Library"},{id:"paint",name:"Paint"},{id:"surprise",name:"Surprise"},{id:"upload",name:"Upload"}],default:"paint"},{dynamic:!0,id:"backdrop",name:"Add backdrop",type:"select",potentialValues:[{id:"library",name:"Library"},{id:"paint",name:"Paint"},{id:"surprise",name:"Surprise"},{id:"upload",name:"Upload"}],default:"paint"},{dynamic:!0,id:"sound",name:"Add sound",type:"select",potentialValues:[{id:"library",name:"Library"},{id:"record",name:"Record"},{id:"surprise",name:"Surprise"},{id:"upload",name:"Upload"}],default:"library"}],dynamicDisable:!0,tags:["recommended"],enabledByDefault:!1}},"./src/addons/addons/paint-snap/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={name:"Costume editor snapping",description:"Snap objects in the costume editor to bounding boxes and vector nodes.",tags:["new"],userscripts:[{url:"userscript.js"}],userstyles:[{url:"userstyle.css"}],settings:[{type:"boolean",id:"enable-default",name:"Enable by default",default:!0},{dynamic:!0,type:"color",id:"guide-color",name:"Snapping guide color",default:"#ff0000",allowTransparency:!0},{type:"boolean",id:"pageCenter",name:"Snap to page center",default:!0},{type:"boolean",id:"pageAxes",name:"Snap to page x and y axes",default:!0},{type:"boolean",id:"pageEdges",name:"Snap to page edges",default:!0},{type:"boolean",id:"pageCorners",name:"Snap to page corners",default:!1},{type:"boolean",id:"objectEdges",name:"Snap to object edges",default:!0},{type:"boolean",id:"objectCenters",name:"Snap to object centers",default:!0},{type:"boolean",id:"objectMidlines",name:"Snap to object midlines",default:!0},{type:"boolean",id:"objectCorners",name:"Snap to object corners",default:!1},{type:"boolean",id:"boxCenter",name:"Snap from selection box center",default:!0},{type:"boolean",id:"boxCorners",name:"Snap from selection box corners",default:!1},{type:"boolean",id:"boxEdgeMids",name:"Snap from selection box edge midpoints",default:!1},{type:"positive_integer",id:"threshold",name:"Snapping distance",default:10,min:4,max:100}],dynamicDisable:!0}},"./src/addons/addons/pause/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={name:"Pause button",description:"Adds a pause button next to the green flag.",credits:[{name:"Jeffalo"},{name:"GarboMuffin"}],dynamicDisable:!0,userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],tags:["recommended"],enabledByDefault:!0}},"./src/addons/addons/pause/_runtime_entry.js":function(e,t,s){"use strict";s.r(t),s.d(t,"resources",(function(){return d}));var n=s("./src/addons/addons/pause/userscript.js"),o=s("./node_modules/css-loader/index.js!./src/addons/addons/pause/style.css"),a=s.n(o),r=s("./node_modules/url-loader/dist/cjs.js!./src/addons/addons/pause/pause.svg"),i=s("./node_modules/url-loader/dist/cjs.js!./src/addons/addons/pause/play.svg");const d={"userscript.js":n.default,"style.css":a.a,"pause.svg":r.default,"play.svg":i.default}},"./src/addons/addons/pause/userscript.js":function(e,t,s){"use strict";s.r(t);var n=s("./src/addons/addons/debugger/module.js");t.default=async function(e){let{addon:t,console:s,msg:o}=e;Object(n.setup)(t.tab.traps.vm);const a=document.createElement("img");a.className="pause-btn",a.draggable=!1,a.title=o("pause");const r=()=>a.src=t.self.getResource(Object(n.isPaused)()?"/play.svg":"/pause.svg");for(a.addEventListener("click",()=>Object(n.setPaused)(!Object(n.isPaused)())),t.tab.displayNoneWhileDisabled(a),t.self.addEventListener("disabled",()=>Object(n.setPaused)(!1)),r(),Object(n.onPauseChanged)(r);;)await t.tab.waitForElement("[class^='green-flag']",{markAsSeen:!0,reduxEvents:["scratch-gui/mode/SET_PLAYER","fontsLoaded/SET_FONTS_LOADED","scratch-gui/locales/SELECT_LOCALE"]}),t.tab.appendToSharedSpace({space:"afterGreenFlag",element:a,order:0})}},"./src/addons/addons/pick-colors-from-stage/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,enabledByDefault:!0,name:"Select stage colors in the costume editor",description:"Allows the costume editor's eye dropper to also pick colors from the stage.",credits:[{name:"GarboMuffin"}],tags:[],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],dynamicDisable:!0}},"./src/addons/addons/remove-curved-stage-border/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={noTranslations:!0,name:"Remove curved stage border",description:"Removes the curved border around the stage, allowing you to see the corners.",tags:["theme"],credits:[{name:"Tacodiva",link:"https://scratch.mit.edu/users/Tacodude7729/"}],enabledByDefault:!1,dynamicDisable:!0,userstyles:[{url:"remove-borders.css"}]}},"./src/addons/addons/remove-sprite-confirm/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Sprite deletion confirmation",description:"Asks if you're sure when deleting a sprite inside a project.",userscripts:[{url:"userscript.js"}],dynamicDisable:!0,tags:["recommended"],enabledByDefault:!0}},"./src/addons/addons/rename-broadcasts/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,enabledByDefault:!0,name:"Rename broadcasts",description:"Adds an option to rename broadcast messages in the broadcast blocks' dropdowns.",credits:[{name:"TheColaber",link:"https://scratch.mit.edu/users/TheColaber"},{name:"GarboMuffin"}],tags:["new"],userscripts:[{url:"userscript.js"}],dynamicDisable:!0}},"./src/addons/addons/script-snap/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Snap scripts to grid",description:"Drag a script to automatically align its position to the code area dots.",tags:[],credits:[{name:"CST1229",link:"https://scratch.mit.edu/users/CST1229/"},{name:"TheColaber",link:"https://scratch.mit.edu/users/TheColaber/"},{name:"lisa_wolfgang",link:"https://scratch.mit.edu/users/lisa_wolfgang/"}],userscripts:[{url:"userscript.js"}],settings:[{dynamic:!0,name:"Grid size (px)",id:"grid",type:"integer",min:1,default:40}],presets:[{name:"Whole-block",id:"whole-block",values:{grid:48}},{name:"Half-block",id:"half-block",values:{grid:24}},{name:"Default",id:"default",values:{grid:40}}],dynamicDisable:!0,enabledByDefault:!1}},"./src/addons/addons/search-sprites/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Search sprites by name",description:"Adds a search box to the sprite pane to search for sprites by name.",credits:[{name:"BarelySmooth",link:"https://scratch.mit.edu/users/BarelySmooth/"},{name:"GarboMuffin"}],userstyles:[{url:"search-bar.css"}],userscripts:[{url:"userscript.js"}],dynamicDisable:!0,tags:[],enabledByDefault:!1}},"./src/addons/addons/sprite-properties/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Collapsing sprite properties",description:"Hides the sprite properties panel by default, like in Scratch 2.0. Use the info button on the currently selected sprite or double-click a sprite to show the properties panel again. To re-hide it, use the collapse button in the properties panel or double-click a sprite.",tags:["recommended","new"],credits:[{name:"lisa_wolfgang",link:"https://scratch.mit.edu/users/lisa_wolfgang/"}],userstyles:[{url:"userstyle.css"}],userscripts:[{url:"userscript.js"}],customCssVariables:[{name:"transitionDuration",value:{type:"map",source:{type:"settingValue",settingId:"transitionDuration"},options:{none:"0s",short:"0.15s",default:"0.25s",long:"0.5s"}}}],settings:[{dynamic:!0,name:"Automatically collapse when mouse leaves sprite panel",id:"autoCollapse",type:"boolean",default:!1},{dynamic:!0,name:"Collapse panel by default",id:"hideByDefault",type:"boolean",default:!0,if:{settings:{autoCollapse:!1}}},{dynamic:!0,name:"Animation speed",id:"transitionDuration",type:"select",potentialValues:[{id:"none",name:"Instant"},{id:"short",name:"Quick"},{id:"default",name:"Default"},{id:"long",name:"Slow"}],default:"default"}],dynamicDisable:!0,enabledByDefault:!1}},"./src/addons/addons/swap-local-global/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:'Switch variables between "For all sprites" and "For this sprite only"',description:'Adds more options when renaming an existing variable or list: allows changing between "For all sprites" and "For this sprite only" and whether variables are stored in the cloud. Also adds a new option when right clicking a variable/list to quickly change its scope.',credits:[{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],tags:[],dynamicDisable:!0,enabledByDefault:!0}},"./src/addons/addons/transparent-orphans/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Block transparency",description:"Adjust the transparency for blocks in the editor, with separate options for orphaned blocks (those without a hat block at the top) and blocks that are being dragged.",tags:[],dynamicDisable:!0,credits:[{name:"ErrorGamer2000",link:"https://scratch.mit.edu/users/ErrorGamer2000/"},{name:"GarboMuffin"}],settings:[{dynamic:!0,name:"Block transparency (%)",id:"block",type:"integer",min:0,max:100,default:0},{dynamic:!0,name:"Orphaned transparency (%)",id:"orphan",type:"integer",min:0,max:100,default:25},{dynamic:!0,name:"Dragged transparency (%)",id:"dragged",type:"integer",min:0,max:100,default:25}],userstyles:[{url:"userstyle.css"}]}},"./src/addons/addons/tw-disable-cloud-variables/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={noTranslations:!0,name:"Disable cloud variables",description:"Disable cloud variables by default. You can still re-enable them using the Edit > Enable cloud variables menu.",userscripts:[{url:"userscript.js"}],tags:["danger"],enabledByDefault:!1}},"./src/addons/addons/tw-disable-compiler/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Disable compiler in editor",description:'Turns off the compiler by default in the script editor. It can still be manually enabled through the "Advanced" menu bar button.',userscripts:[{url:"userscript.js"}],tags:["danger"],enabledByDefault:!1}},"./src/addons/addons/tw-remove-backpack/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={noTranslations:!0,name:"Hide backpack",description:"Removes the backpack feature from the editor.",userscripts:[{url:"remove-backpack.js"}],userstyles:[{url:"remove-backpack.css"}],tags:["danger"],dynamicDisable:!0,enabledByDefault:!1}},"./src/addons/addons/tw-remove-feedback/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={noTranslations:!0,name:"Remove feedback button",description:"Removes the feedback button from the menu bar.",userstyles:[{url:"remove-feedback.css"}],tags:["danger"],dynamicDisable:!0,enabledByDefault:!0}},"./src/addons/addons/tw-straighten-comments/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Keep block comment connections straight",description:"Forces block comments to always be connected to their source block by a horizontal straight line, not at an angle.",tags:[],credits:[{name:"lisa_wolfgang",link:"https://scratch.mit.edu/users/lisa_wolfgang/"}],userscripts:[{url:"userscript.js"}],dynamicDisable:!0,enabledByDefault:!1}},"./src/addons/addons/variable-manager/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,name:"Variable manager",description:'Adds a tab next to "sounds" in the editor for easily updating variables and lists.',credits:[{name:"Jeffalo"},{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"style.css"}],dynamicDisable:!0,tags:[],enabledByDefault:!1}},"./src/addons/addons/vol-slider/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={noTranslations:!0,name:"Project volume slider",description:"Adds a volume slider next to the green flag controls.",credits:[{name:"samq64",link:"https://scratch.mit.edu/users/samq64/"},{name:"GarboMuffin"}],userscripts:[{url:"userscript.js"}],userstyles:[{url:"userstyle.css"}],settings:[{name:"Default volume",id:"defVol",type:"integer",min:0,max:100,default:100}],dynamicDisable:!0,tags:["recommended","new"]}},"./src/addons/addons/vol-slider/module.js":function(e,t,s){"use strict";s.r(t),s.d(t,"setVolume",(function(){return d})),s.d(t,"getVolume",(function(){return l})),s.d(t,"isMuted",(function(){return c})),s.d(t,"setUnmutedVolume",(function(){return u})),s.d(t,"setMuted",(function(){return m})),s.d(t,"onVolumeChanged",(function(){return p})),s.d(t,"setup",(function(){return h}));let n=!1,o=null,a=1,r=1;const i=[],d=e=>{o?o.value=e:r=e,i.forEach(e=>e())},l=()=>o?o.value:r,c=()=>0===l(),u=e=>{a=e},m=e=>{e?(u(l()),d(0)):d(a)},p=e=>{i.push(e)},f=e=>{o=e.inputNode.gain,o.value=r},h=e=>{if(n)return;n=!0;const t=e.runtime.audioEngine;t?f(t):e.runtime.once("PROJECT_LOADED",()=>{f(e.runtime.audioEngine)})}},"./src/addons/addons/zebra-striping/_manifest_entry.js":function(e,t,s){"use strict";s.r(t),t.default={editorOnly:!0,noTranslations:!0,name:"Alternating nested block colors",description:"Makes blocks of the same category alternate between lighter and darker shades when nested inside each other. This is also known as zebra striping.",credits:[{name:"CST1229",link:"https://scratch.mit.edu/users/CST1229/"},{name:"GarboMuffin"},{name:"TheColaber",link:"https://scratch.mit.edu/users/thecolaber"}],tags:[],userscripts:[{url:"userscript.js"}],userstyles:[{url:"userstyle.css"}],settings:[{dynamic:!0,name:"Shade",id:"shade",type:"select",potentialValues:[{name:"Lighter",id:"lighter"},{name:"Darker",id:"darker"}],default:"lighter"},{dynamic:!0,name:"Intensity (0-100%)",id:"intensity",type:"integer",min:0,default:20,max:100}],customCssVariables:[{name:"shadeNumber",value:{type:"map",source:{type:"settingValue",settingId:"shade"},options:{lighter:"1",darker:"-1"}}}],dynamicDisable:!0}},"./src/addons/api.js":function(e,t,s){"use strict";s.r(t),function(e){var t=s("./node_modules/intl-messageformat/index.js"),n=s.n(t),o=s("./src/addons/settings-store-singleton.js"),a=s("./src/lib/data-uri-to-blob.js"),r=s("./src/addons/event-target.js"),i=s("./src/addons/hooks.js"),d=s("./src/addons/generated/addon-manifests.js"),l=s("./src/addons/addons-l10n/en.json"),c=s("./src/addons/generated/l10n-entries.js"),u=s("./src/addons/generated/addon-entries.js"),m=s("./src/addons/contextmenu.js"),p=s("./src/addons/modal.js"),f=s("./src/addons/libraries/common/cs/text-color.esm.js"),h=(s("./src/addons/polyfill.js"),s("./src/addons/conditional-style.js")),b=s("./src/addons/addon-precedence.js");const g=e=>e.replace(/([<>'"&])/g,(e,t)=>"&#".concat(t.charCodeAt(0),";")),y=e=>e.replace(/-([a-z])/g,e=>e[1].toUpperCase());let k,v=null,_=[];const w=e=>{_=_.filter(t=>t!==e)};class j extends r.default{constructor(){super(),this._isInReducer=!1,this._initialized=!1,this._nextState=null}initialize(){this._initialized||(i.default.appStateReducer=(e,t,s)=>{this._isInReducer=!0,this._nextState=s,this.dispatchEvent(new CustomEvent("statechanged",{detail:{action:e,prev:t,next:s}})),this._nextState=null,this._isInReducer=!1},this._initialized=!0)}dispatch(e){this._isInReducer?queueMicrotask(()=>i.default.appStateStore.dispatch(e)):i.default.appStateStore.dispatch(e)}get state(){return this._nextState?this._nextState:i.default.appStateStore.getState()}}const C=()=>{const e=x.state.scratchGui.mode;return e.isEmbedded?"embed":e.isFullScreen?"fullscreen":e.isPlayerOnly?"projectpage":"editor"},x=new j,S=x.state.locales.locale;var D=S.split("-")[0];const T=(async()=>{if(c.default[S]){D=S;const e=await c.default[S]();Object.assign(l,e)}else if(c.default[D]){const e=await c.default[D]();Object.assign(l,e)}})(),M=e=>"addons-display-none-".concat(e),E=e=>e.split(/(?=[^\\]%[nbs])/g).map(e=>e.trim()).filter(e=>"%"===e.charAt(0)).map(e=>e.substring(0,2));let O=!1;const A={color:"#29beb8",secondaryColor:"#3aa8a4",tertiaryColor:"#3aa8a4"},N=[],I=["editor-devtools","block-switching","blocks2image","swap-local-global"];let B=!1;const z=e=>Object.keys(e).find(e=>e.startsWith("__reactInternalInstance$"));class L extends r.default{constructor(e){super(),this._id=e,this._seenElements=new WeakSet,this.traps={get vm(){return x.state.scratchGui.vm},getBlockly:()=>i.default.blockly?Promise.resolve(i.default.blockly):new Promise(e=>{i.default.blocklyCallbacks.push(()=>e(i.default.blockly))}),getPaper:async()=>{const e=await this.waitForElement("[class*='paint-editor_mode-selector']",{reduxCondition:e=>1===e.scratchGui.editorTab.activeTabIndex&&!e.scratchGui.mode.isPlayerOnly});let t,s=e[Object.keys(e).find(e=>e.startsWith("__reactInternalInstance$"))].child;for(;s;){const e=s.child.stateNode;if(e.tool){t=e.tool;break}if(e.blob&&e.blob.tool){t=e.blob.tool;break}s=s.sibling}if(t)return t._scope;throw new Error("cannot find paper :(")},getInternalKey:z}}get redux(){return x}waitForElement(e){let{markAsSeen:t=!1,condition:s,reduxCondition:n,reduxEvents:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!0;const r=()=>!(!a||s&&!s()||n&&!n(x.state));if(r()){const s=document.querySelectorAll(e);for(const e of s)if(!this._seenElements.has(e))return t&&this._seenElements.add(e),Promise.resolve(e)}let i;return o&&(a=!1,i=e=>{let{detail:t}=e;const s=t.action.type;o.includes(s)&&"fontsLoaded/SET_FONTS_LOADED"!==s&&(a=!0)},this.redux.initialize(),this.redux.addEventListener("statechanged",i)),new Promise(s=>{const n=()=>{if(!r())return;const o=document.querySelectorAll(e);for(const e of o)if(!this._seenElements.has(e)){s(e),w(n),t&&this._seenElements.add(e),i&&this.redux.removeEventListener("statechanged",i);break}};var o;o=n,k||(k=new MutationObserver(()=>{for(const e of _)e()}),k.observe(document.documentElement,{attributes:!1,childList:!0,subtree:!0})),_.push(o)})}appendToSharedSpace(e){let{space:t,element:s,order:n,scope:o}=e;const a={stageHeader:{element:()=>document.querySelector("[class^='stage-header_stage-size-row']"),from:()=>[],until:()=>[document.querySelector("[class^='stage-header_stage-size-toggle-group']"),document.querySelector("[class^='stage-header_stage-size-row']").lastChild]},fullscreenStageHeader:{element:()=>document.querySelector("[class^='stage-header_stage-menu-wrapper']"),from:function(){let e=this.element().querySelector(".addon-spacer");return e||(e=document.createElement("div"),e.style.marginLeft="auto",e.className="addon-spacer",this.element().insertBefore(e,this.element().lastChild)),[e]},until:()=>[document.querySelector("[class^='stage-header_stage-menu-wrapper']").lastChild]},afterGreenFlag:{element:()=>document.querySelector("[class^='controls_controls-container']"),from:()=>[],until:()=>[document.querySelector("[class^='stop-all_stop-all']")]},afterStopButton:{element:()=>document.querySelector("[class^='controls_controls-container']"),from:()=>[document.querySelector("[class^='stop-all_stop-all']")],until:()=>[]},afterSoundTab:{element:()=>document.querySelector("[class^='react-tabs_react-tabs__tab-list']"),from:()=>[document.querySelector("[class^='react-tabs_react-tabs__tab-list']").children[2]],until:()=>[document.querySelector(".sa-find-bar")]},assetContextMenuAfterExport:{element:()=>o,from:()=>Array.prototype.filter.call(o.children,e=>e.textContent===this.scratchMessage("gui.spriteSelectorItem.contextMenuExport")),until:()=>Array.prototype.filter.call(o.children,e=>e.textContent===this.scratchMessage("gui.spriteSelectorItem.contextMenuDelete"))},assetContextMenuAfterDelete:{element:()=>o,from:()=>Array.prototype.filter.call(o.children,e=>e.textContent===this.scratchMessage("gui.spriteSelectorItem.contextMenuDelete")),until:()=>[]},paintEditorZoomControls:{element:()=>document.querySelector(".sa-paintEditorZoomControls-wrapper")||(()=>{const e=Object.assign(document.createElement("div"),{className:"sa-paintEditorZoomControls-wrapper"});e.style.display="flex",e.style.flexDirection="row-reverse",e.style.height="calc(1.95rem + 2px)";const t=document.querySelector("[class^='paint-editor_zoom-controls']");return t.replaceWith(e),e.appendChild(t),e})(),from:()=>[],until:()=>[]}}[t],r=a.element();if(!r)return!1;const i=a.from(),d=a.until();s.dataset.saSharedSpaceOrder=n;let l=!1;0===i.length&&(l=!0);let c=null;const u=Array.from(r.children);for(const e of u.keys()){const t=u[e],s=Number(e);if(l){if(d.includes(t)){c=0===s?-1:u[s-1];break}if(t.dataset.saSharedSpaceOrder&&Number(t.dataset.saSharedSpaceOrder)>n){c=0===s?-1:u[s-1];break}}else i.includes(t)&&(l=!0)}return!!l&&(null===c?r.appendChild(s):-1===c?r.prepend(s):r.insertBefore(s,c.nextSibling),!0)}addBlock(e,t){let{args:s,displayName:n,callback:o}=t;const a=E(e);if(s.length!==a.length)throw new Error("Procedure code and argument list do not match");var r,i;n?(n=(e=>e.replace(/([^\s])(%[nbs])/g,(e,t,s)=>"".concat(t," ").concat(s)))(n),r=a,i=E(n),JSON.stringify(r)!==JSON.stringify(i)&&(console.warn("displayName ".concat(n," for ").concat(e," has invalid arguments, ignoring it.")),n=e)):n=e;const d=this.traps.vm;d.addAddonBlock({procedureCode:e,arguments:s,callback:(e,t)=>o(e,t.thread),displayName:n}),O||(O=!0,this.traps.getBlockly().then(e=>{const t=e.BlockSvg,s=t.prototype.updateColour;t.prototype.updateColour=function(){this.isInsertionMarker()||"procedures_call"!==this.type||this.procCode_&&d.runtime.getAddonBlock(this.procCode_)&&(this.colour_=A.color,this.colourSecondary_=A.secondaryColor,this.colourTertiary_=A.tertiaryColor,this.customContextMenu=null);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.call(this,...t)};const n=e.Blocks.procedures_call.createAllInputs_;e.Blocks.procedures_call.createAllInputs_=function(){const e=this.procCode_&&d.runtime.getAddonBlock(this.procCode_);for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];if(e&&e.displayName){const t=this.procCode_;this.procCode_=e.displayName;const o=n.call(this,...s);return this.procCode_=t,o}return n.call(this,...s)},d.editingTarget&&d.emitWorkspaceUpdate()}))}getCustomBlock(e){return this.traps.vm.getAddonBlock(e)}getCustomBlockColor(){return A}setCustomBlockColor(e){Object.assign(A,e)}createBlockContextMenu(e){let{workspace:t=!1,blocks:s=!1,flyout:n=!1,comments:o=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};N.push({addonId:this._id,callback:e,workspace:t,blocks:s,flyout:n,comments:o}),N.sort((e,t)=>I.indexOf(e.addonId)-I.indexOf(t.addonId)),B||(B=!0,this.traps.getBlockly().then(e=>{const t=e.ContextMenu.show;e.ContextMenu.show=function(s,n,o){const a=e.mainWorkspace.currentGesture_,r=a.targetBlock_;for(const{callback:e,workspace:t,blocks:s,flyout:o,comments:i}of N)if(t&&!r&&!a.flyout_&&!a.startBubble_||s&&r&&!a.flyout_||o&&a.flyout_||i&&a.startBubble_)try{n=e(n,r)}catch(e){console.error("Error while calling context menu callback: ",e)}t.call(this,s,n,o);const i=e.WidgetDiv.DIV.firstChild;n.forEach((e,t)=>{if(0!==t&&e.separator){const e=i.children[t];e.style.paddingTop="2px",e.classList.add("sa-blockly-menu-item-border"),e.style.borderTop="1px solid hsla(0, 0%, 0%, 0.15)"}})}}))}createEditorContextMenu(e,t){Object(m.addContextMenu)(this,e,t)}copyImage(e){if(!navigator.clipboard.write)return Promise.reject(new Error("Clipboard API not supported"));const t=[new ClipboardItem({"image/png":Object(a.default)(e)})];return navigator.clipboard.write(t)}scratchMessage(e){return x.state.locales.messages[e]}scratchClass(){const e=(()=>{if(v)return v;const e=Array.from(document.styleSheets).filter(e=>!(e.ownerNode.textContent.startsWith("/* DO NOT EDIT\n@todo This file is copied from GUI and should be pulled out into a shared library.")&&(e.ownerNode.textContent.includes("input_input-form")||e.ownerNode.textContent.includes("label_input-group_")))).map(e=>{try{return[...e.cssRules]}catch(e){return[]}}).flat().map(e=>e.selectorText).filter(e=>e).map(e=>e.match(/(([\w-]+?)_([\w-]+)_([\w\d-]+))/g)).filter(e=>e).flat();v=[...new Set(e)];const t=new MutationObserver(e=>{for(const s of e)for(const e of s.addedNodes)if("STYLE"===e.tagName)return v=null,void t.disconnect()});return t.observe(document.head,{childList:!0}),v})(),t=[];for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];for(const s of n)if("string"==typeof s)for(const n of e)if(n.startsWith("".concat(s,"_"))&&n.length===s.length+6){t.push(n);break}const a=n[n.length-1];if("object"==typeof a){const e=Array.isArray(a.others)?a.others:[a.others];for(const s of e)t.push(s)}return t.join(" ")}get editorMode(){return C()}displayNoneWhileDisabled(e){e.classList.add(M(this._id))}get direction(){return this.redux.state.locales.isRtl?"rtl":"ltr"}createModal(e){let{isOpen:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.createEditorModal(this,e,{isOpen:t})}confirm(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return p.confirm(this,...t)}prompt(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return p.prompt(this,...t)}}class P extends r.default{constructor(e,t){super(),this._addonId=e,this._manifest=t}get(e){return o.default.getAddonSetting(this._addonId,e)}}class F extends r.default{constructor(e,t){super(),this.id=e,this.disabled=!1,this.getResource=t}}class R{constructor(t){R.instances.push(this);const s=d.default[t];this.id=t,this.manifest=s,this.messageCache={},this.loading=!0,this.resources=null,this.publicAPI={global:e,console:console,addon:{tab:new L(t),settings:new P(t,s),self:new F(t,this.getResource.bind(this))},msg:this.msg.bind(this),safeMsg:this.safeMsg.bind(this)}}_msg(e,t,s){const o="".concat(this.id,"/").concat(e);if(this.messageCache[o])return this.messageCache[o].format(t);let a=l[o];if(!a)return o;s&&(a=s(a));const r=new n.a(a,D);return this.messageCache[o]=r,r.format(t)}msg(e,t){return this._msg(e,t,null)}safeMsg(e,t){return this._msg(e,t,g)}getResource(e){const t=e.substring(1),s=this.resources[t];if("string"!=typeof s)throw new Error("Unknown asset: ".concat(e));return s}updateAllStyles(){h.updateAll(),this.updateCssVariables()}updateCssVariables(){const e=y(this.id);if(this.manifest.settings)for(const t of this.manifest.settings){const s=t.id,n="--".concat(e,"-").concat(y(s)),o=this.publicAPI.addon.settings.get(s);document.documentElement.style.setProperty(n,o)}if(this.manifest.customCssVariables)for(const t of this.manifest.customCssVariables){const s=t.name,n="--".concat(e,"-").concat(s),o=t.value,a=this.evaluateCustomCssVariable(o);document.documentElement.style.setProperty(n,a)}}evaluateCustomCssVariable(e){if("object"!=typeof e||null===e)return e;switch(e.type){case"alphaBlend":{const t=this.evaluateCustomCssVariable(e.opaqueSource),s=this.evaluateCustomCssVariable(e.transparentSource);return f.alphaBlend(t,s)}case"alphaThreshold":{const t=this.evaluateCustomCssVariable(e.source);return f.parseHex(t).a>=(this.evaluateCustomCssVariable(e.threshold)||.5)?this.evaluateCustomCssVariable(e.opaque):this.evaluateCustomCssVariable(e.transparent)}case"brighten":{const t=this.evaluateCustomCssVariable(e.source);return f.brighten(t,e)}case"makeHsv":{const t=this.evaluateCustomCssVariable(e.h),s=this.evaluateCustomCssVariable(e.s),n=this.evaluateCustomCssVariable(e.v);return f.makeHsv(t,s,n)}case"map":return e.options[this.evaluateCustomCssVariable(e.source)];case"multiply":{const t=this.evaluateCustomCssVariable(e.source);return f.multiply(t,e)}case"recolorFilter":{const t=this.evaluateCustomCssVariable(e.source);return f.recolorFilter(t)}case"settingValue":return this.publicAPI.addon.settings.get(e.settingId);case"textColor":{const t=this.evaluateCustomCssVariable(e.source),s=this.evaluateCustomCssVariable(e.black),n=this.evaluateCustomCssVariable(e.white),o=this.evaluateCustomCssVariable(e.threshold);return f.textColor(t,s,n,o)}}return console.warn("Unknown customCssVariable",e),"#000000"}settingsChanged(){this.updateAllStyles(),this.publicAPI.addon.settings.dispatchEvent(new CustomEvent("change"))}dynamicEnable(){this.loading||(this.publicAPI.addon.self.disabled=!1,this.updateAllStyles(),this.publicAPI.addon.self.dispatchEvent(new CustomEvent("reenabled")))}dynamicDisable(){this.loading||(this.publicAPI.addon.self.disabled=!0,this.updateAllStyles(),this.publicAPI.addon.self.dispatchEvent(new CustomEvent("disabled")))}async run(){this.manifest.editorOnly&&await(()=>{if(x.state.scratchGui.mode.isPlayerOnly&&!x.state.scratchGui.mode.isEmbedded)return new Promise(e=>{const t=()=>{x.state.scratchGui.mode.isPlayerOnly||(e(),x.removeEventListener("statechanged",t))};x.initialize(),x.addEventListener("statechanged",t)})})();const e=await u.default[this.id]();this.resources=e.resources,this.manifest.noTranslations||await T;const t=100*Object(b.default)(this.id);if(this.manifest.userstyles)for(let e=0;e<this.manifest.userstyles.length;e++){const s=this.manifest.userstyles[e],n=t+e,a=()=>!this.publicAPI.addon.self.disabled&&o.default.evaluateCondition(this.id,s.if);for(const[e,t]of this.resources[s.url])h.create(e,t).addDependent(this.id,n,a)}const s=".".concat(M(this.id),"{display:none !important;}");if(h.create("_disabled/".concat(this.id),s).addDependent(this.id,t,()=>this.publicAPI.addon.self.disabled),this.updateCssVariables(),this.manifest.userscripts)for(const e of this.manifest.userscripts)o.default.evaluateCondition(e.if)&&(0,this.resources[e.url])(this.publicAPI);this.loading=!1}}R.instances=[];const G=e=>{new R(e).run()};let V=C();const H=()=>{const e=C();e!==V&&(V=e,setTimeout(()=>{for(const e of R.instances)e.publicAPI.addon.tab.dispatchEvent(new CustomEvent("urlChange"))}))},U=history.replaceState;history.replaceState=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];U.apply(this,t),H()};const W=history.pushState;history.pushState=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];W.apply(this,t),H()},o.default.addEventListener("addon-changed",e=>{const t=e.detail.addonId,s=R.instances.find(e=>e.id===t);s&&s.settingsChanged(),e.detail.dynamicEnable?s?s.dynamicEnable():G(t):e.detail.dynamicDisable&&s&&s.dynamicDisable()});for(const e of Object.keys(d.default))o.default.getAddonEnabled(e)&&G(e)}.call(this,s("./node_modules/webpack/buildin/global.js"))},"./src/addons/conditional-style.js":function(e,t,s){"use strict";s.r(t),s.d(t,"create",(function(){return i})),s.d(t,"updateAll",(function(){return a}));const n=document.createElement("div");n.style.display="none",document.body.appendChild(n);const o=new Map,a=()=>{for(const e of o.values())e.update()};class r{constructor(e){this.el=null,this.styleText=e,this.precedence=0,this.dependents=[],this.previousEnabledDependents=[]}addDependent(e,t,s){this.dependents.push([e,s]),t>this.precedence&&(this.precedence=t,this.el&&(this.el.dataset.precedence=t)),this.update()}getEnabledDependents(){const e=[];for(const[t,s]of this.dependents)s()&&e.push(t);return e}dependsOn(e){return this.dependents.some(t=>t[0]===e)}getElement(){if(!this.el){const e=document.createElement("style");e.className="scratch-addons-style",e.dataset.precedence=this.precedence,e.textContent=this.styleText,this.styleText=null,this.el=e}return this.el}update(){const e=this.getEnabledDependents();if(!((e,t)=>{if(e.length!==t.length)return!1;for(let s=0;s<e.length;e++)if(e[s]!==t[s])return!1;return!0})(e,this.previousEnabledDependents))if(this.previousEnabledDependents=e,e.length>0){const t=this.getElement();t.dataset.addons=e.join(",");for(const e of n.children)if((+e.dataset.precedence||0)>=this.precedence)return void n.insertBefore(t,e);n.appendChild(t)}else this.el&&this.el.remove()}}const i=(e,t)=>{if(!o.get(e)){const s=new r(t);o.set(e,s)}return o.get(e)}},"./src/addons/contextmenu.js":function(e,t,s){"use strict";function n(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function o(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?n(Object(s),!0).forEach((function(t){a(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function a(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.r(t),s.d(t,"addContextMenu",(function(){return u}));let r=!1,i=!1,d=[];const l=function(e){var t,s,n,a,r,l;if(!e.target)return;const c=e.target.closest(".react-contextmenu-wrapper");if(!c)return;let u,m=c.querySelector("nav.react-contextmenu");const p={};if(null===(t=c[this.traps.getInternalKey(c)])||void 0===t||null===(s=t.return)||void 0===s||null===(n=s.return)||void 0===n||null===(a=n.return)||void 0===a||null===(r=a.stateNode)||void 0===r||null===(l=r.props)||void 0===l||!l.dragType)return;{const e=c[this.traps.getInternalKey(c)].return.return.return.stateNode.props;u=e.dragType.toLowerCase(),p.name=e.name,p.itemId=e.id,p.index=e.index}const f=o({menuItem:m,target:c,type:u},p);Array.from(m.children).forEach(e=>{e.classList.contains("sa-ctx-menu")&&e.remove()});for(const e of i?d.flatMap(e=>"function"==typeof e?e(u,f):e):d){if(!e)continue;if(e.types&&!e.types.some(e=>u===e))continue;if(e.condition&&!e.condition(f))continue;const t=document.createElement("div"),s=["context-menu_menu-item"];e.border&&s.push("context-menu_menu-item-bordered"),e.dangerous&&s.push("context-menu_menu-item-danger"),t.className=this.scratchClass(...s,{others:["react-contextmenu-item","sa-ctx-menu",e.className||""]});const n=document.createElement("span");n.textContent=e.label,t.append(n),this.displayNoneWhileDisabled(t,{display:"block"}),t.addEventListener("click",t=>{t.stopPropagation(),window.dispatchEvent(new CustomEvent("REACT_CONTEXTMENU_HIDE",{detail:{action:"REACT_CONTEXTMENU_HIDE"}})),e.callback(f)}),this.appendToSharedSpace({space:e.position,order:e.order,scope:m,element:t})}},c=e=>{r||(r=!0,document.body.addEventListener("contextmenu",t=>l.call(e,t),{capture:!0}))},u=(e,t,s)=>{void 0===s?(d.push(t),i=!0):d.push(o(o({},s),{},{callback:t})),c(e)}},"./src/addons/environment.js":function(e,t,s){"use strict";s.r(t),s.d(t,"isMobile",(function(){return n})),s.d(t,"clipboardSupported",(function(){return o})),s.d(t,"mediaRecorderSupported",(function(){return a}));const n="undefined"!=typeof window&&"ontouchstart"in window,o="undefined"!=typeof navigator&&navigator.clipboard&&navigator.clipboard.write,a="undefined"!=typeof MediaRecorder&&MediaRecorder.isTypeSupported("video/webm")},"./src/addons/event-target.js":function(e,t,s){"use strict";s.r(t),t.default=class{constructor(){this._events={}}addEventListener(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)}removeEventListener(e,t){const s=this._events[e];s&&(this._events[e]=s.filter(e=>e!==t))}dispatchEvent(e){const t=this._events[e.type];if(t)for(const s of t)s(e)}}},"./src/addons/generated/addon-entries.js":function(e,t,s){"use strict";s.r(t),t.default={"cat-blocks":()=>s.e("addon-entry-cat-blocks").then(s.bind(null,"./src/addons/addons/cat-blocks/_runtime_entry.js")),"editor-devtools":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/editor-devtools/_runtime_entry.js")),"find-bar":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/find-bar/_runtime_entry.js")),"middle-click-popup":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/middle-click-popup/_runtime_entry.js")),"jump-to-def":()=>s("./src/addons/addons/jump-to-def/_runtime_entry.js"),"editor-searchable-dropdowns":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/editor-searchable-dropdowns/_runtime_entry.js")),"data-category-tweaks-v2":()=>s.e("addon-entry-data-category-tweaks-v2").then(s.bind(null,"./src/addons/addons/data-category-tweaks-v2/_runtime_entry.js")),"block-palette-icons":()=>s.e("addon-entry-block-palette-icons").then(s.bind(null,"./src/addons/addons/block-palette-icons/_runtime_entry.js")),"hide-flyout":()=>s.e("addon-entry-hide-flyout").then(s.bind(null,"./src/addons/addons/hide-flyout/_runtime_entry.js")),mediarecorder:()=>s.e("addon-entry-mediarecorder").then(s.bind(null,"./src/addons/addons/mediarecorder/_runtime_entry.js")),"drag-drop":()=>s("./src/addons/addons/drag-drop/_runtime_entry.js"),debugger:()=>s.e("addon-entry-debugger").then(s.bind(null,"./src/addons/addons/debugger/_runtime_entry.js")),pause:()=>s("./src/addons/addons/pause/_runtime_entry.js"),"mute-project":()=>s("./src/addons/addons/mute-project/_runtime_entry.js"),"vol-slider":()=>s.e("addon-entry-vol-slider").then(s.bind(null,"./src/addons/addons/vol-slider/_runtime_entry.js")),clones:()=>s.e("addon-entry-clones").then(s.bind(null,"./src/addons/addons/clones/_runtime_entry.js")),"mouse-pos":()=>s.e("addon-entry-mouse-pos").then(s.bind(null,"./src/addons/addons/mouse-pos/_runtime_entry.js")),"color-picker":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/color-picker/_runtime_entry.js")),"remove-sprite-confirm":()=>s.e("addon-entry-remove-sprite-confirm").then(s.bind(null,"./src/addons/addons/remove-sprite-confirm/_runtime_entry.js")),"block-count":()=>s.e("addon-entry-block-count").then(s.bind(null,"./src/addons/addons/block-count/_runtime_entry.js")),"onion-skinning":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/onion-skinning/_runtime_entry.js")),"paint-snap":()=>s.e("addon-entry-paint-snap").then(s.bind(null,"./src/addons/addons/paint-snap/_runtime_entry.js")),"default-costume-editor-color":()=>s.e("addon-entry-default-costume-editor-color").then(s.bind(null,"./src/addons/addons/default-costume-editor-color/_runtime_entry.js")),"bitmap-copy":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/bitmap-copy/_runtime_entry.js")),"2d-color-picker":()=>s.e("addon-entry-2d-color-picker").then(s.bind(null,"./src/addons/addons/2d-color-picker/_runtime_entry.js")),"better-img-uploads":()=>s.e("addon-entry-better-img-uploads").then(s.bind(null,"./src/addons/addons/better-img-uploads/_runtime_entry.js")),"pick-colors-from-stage":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/pick-colors-from-stage/_runtime_entry.js")),"custom-block-shape":()=>s.e("addon-entry-custom-block-shape").then(s.bind(null,"./src/addons/addons/custom-block-shape/_runtime_entry.js")),"zebra-striping":()=>s.e("addon-entry-zebra-striping").then(s.bind(null,"./src/addons/addons/zebra-striping/_runtime_entry.js")),"editor-theme3":()=>s.e("addon-entry-editor-theme3").then(s.bind(null,"./src/addons/addons/editor-theme3/_runtime_entry.js")),"custom-block-text":()=>s.e("addon-entry-custom-block-text").then(s.bind(null,"./src/addons/addons/custom-block-text/_runtime_entry.js")),"editor-colored-context-menus":()=>s.e("addon-entry-editor-colored-context-menus").then(s.bind(null,"./src/addons/addons/editor-colored-context-menus/_runtime_entry.js")),"editor-stage-left":()=>s.e("addon-entry-editor-stage-left").then(s.bind(null,"./src/addons/addons/editor-stage-left/_runtime_entry.js")),"editor-buttons-reverse-order":()=>s.e("addon-entry-editor-buttons-reverse-order").then(s.bind(null,"./src/addons/addons/editor-buttons-reverse-order/_runtime_entry.js")),"variable-manager":()=>s.e("addon-entry-variable-manager").then(s.bind(null,"./src/addons/addons/variable-manager/_runtime_entry.js")),"search-sprites":()=>s.e("addon-entry-search-sprites").then(s.bind(null,"./src/addons/addons/search-sprites/_runtime_entry.js")),"sprite-properties":()=>s.e("addon-entry-sprite-properties").then(s.bind(null,"./src/addons/addons/sprite-properties/_runtime_entry.js")),gamepad:()=>s.e("addon-entry-gamepad").then(s.bind(null,"./src/addons/addons/gamepad/_runtime_entry.js")),"editor-sounds":()=>s.e("addon-entry-editor-sounds").then(s.bind(null,"./src/addons/addons/editor-sounds/_runtime_entry.js")),folders:()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/folders/_runtime_entry.js")),"block-switching":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/block-switching/_runtime_entry.js")),"load-extensions":()=>s.e("addon-entry-load-extensions").then(s.bind(null,"./src/addons/addons/load-extensions/_runtime_entry.js")),"custom-zoom":()=>s.e("addon-entry-custom-zoom").then(s.bind(null,"./src/addons/addons/custom-zoom/_runtime_entry.js")),"initialise-sprite-position":()=>s.e("addon-entry-initialise-sprite-position").then(s.bind(null,"./src/addons/addons/initialise-sprite-position/_runtime_entry.js")),blocks2image:()=>s.e("addon-entry-blocks2image").then(s.bind(null,"./src/addons/addons/blocks2image/_runtime_entry.js")),"remove-curved-stage-border":()=>s.e("addon-entry-remove-curved-stage-border").then(s.bind(null,"./src/addons/addons/remove-curved-stage-border/_runtime_entry.js")),"transparent-orphans":()=>s.e("addon-entry-transparent-orphans").then(s.bind(null,"./src/addons/addons/transparent-orphans/_runtime_entry.js")),"paint-by-default":()=>s.e("addon-entry-paint-by-default").then(s.bind(null,"./src/addons/addons/paint-by-default/_runtime_entry.js")),"block-cherry-picking":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/block-cherry-picking/_runtime_entry.js")),"hide-new-variables":()=>s.e("addon-entry-hide-new-variables").then(s.bind(null,"./src/addons/addons/hide-new-variables/_runtime_entry.js")),"editor-extra-keys":()=>s.e("addon-entry-editor-extra-keys").then(s.bind(null,"./src/addons/addons/editor-extra-keys/_runtime_entry.js")),"hide-delete-button":()=>s.e("addon-entry-hide-delete-button").then(s.bind(null,"./src/addons/addons/hide-delete-button/_runtime_entry.js")),"no-script-bumping":()=>s.e("addon-entry-no-script-bumping").then(s.bind(null,"./src/addons/addons/no-script-bumping/_runtime_entry.js")),"disable-stage-drag-select":()=>s.e("addon-entry-disable-stage-drag-select").then(s.bind(null,"./src/addons/addons/disable-stage-drag-select/_runtime_entry.js")),"move-to-top-bottom":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/move-to-top-bottom/_runtime_entry.js")),"disable-paste-offset":()=>s.e("addon-entry-disable-paste-offset").then(s.bind(null,"./src/addons/addons/disable-paste-offset/_runtime_entry.js")),"block-duplicate":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/block-duplicate/_runtime_entry.js")),"rename-broadcasts":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/rename-broadcasts/_runtime_entry.js")),"swap-local-global":()=>s.e("addon-entry-swap-local-global").then(s.bind(null,"./src/addons/addons/swap-local-global/_runtime_entry.js")),"editor-comment-previews":()=>s.e("addon-default-entry").then(s.bind(null,"./src/addons/addons/editor-comment-previews/_runtime_entry.js")),columns:()=>s.e("addon-entry-columns").then(s.bind(null,"./src/addons/addons/columns/_runtime_entry.js")),"number-pad":()=>s.e("addon-entry-number-pad").then(s.bind(null,"./src/addons/addons/number-pad/_runtime_entry.js")),"script-snap":()=>s.e("addon-entry-script-snap").then(s.bind(null,"./src/addons/addons/script-snap/_runtime_entry.js")),fullscreen:()=>s.e("addon-entry-fullscreen").then(s.bind(null,"./src/addons/addons/fullscreen/_runtime_entry.js")),"hide-stage":()=>s.e("addon-entry-hide-stage").then(s.bind(null,"./src/addons/addons/hide-stage/_runtime_entry.js")),"tw-straighten-comments":()=>s.e("addon-entry-tw-straighten-comments").then(s.bind(null,"./src/addons/addons/tw-straighten-comments/_runtime_entry.js")),"tw-remove-backpack":()=>s.e("addon-entry-tw-remove-backpack").then(s.bind(null,"./src/addons/addons/tw-remove-backpack/_runtime_entry.js")),"tw-remove-feedback":()=>s.e("addon-entry-tw-remove-feedback").then(s.bind(null,"./src/addons/addons/tw-remove-feedback/_runtime_entry.js")),"tw-disable-cloud-variables":()=>s.e("addon-entry-tw-disable-cloud-variables").then(s.bind(null,"./src/addons/addons/tw-disable-cloud-variables/_runtime_entry.js")),"tw-disable-compiler":()=>s.e("addon-entry-tw-disable-compiler").then(s.bind(null,"./src/addons/addons/tw-disable-compiler/_runtime_entry.js")),"editor-stepping":()=>s.e("addon-entry-editor-stepping").then(s.bind(null,"./src/addons/addons/editor-stepping/_runtime_entry.js"))}},"./src/addons/generated/addon-manifests.js":function(e,t,s){"use strict";s.r(t);var n=s("./src/addons/addons/cat-blocks/_manifest_entry.js"),o=s("./src/addons/addons/editor-devtools/_manifest_entry.js"),a=s("./src/addons/addons/find-bar/_manifest_entry.js"),r=s("./src/addons/addons/middle-click-popup/_manifest_entry.js"),i=s("./src/addons/addons/jump-to-def/_manifest_entry.js"),d=s("./src/addons/addons/editor-searchable-dropdowns/_manifest_entry.js"),l=s("./src/addons/addons/data-category-tweaks-v2/_manifest_entry.js"),c=s("./src/addons/addons/block-palette-icons/_manifest_entry.js"),u=s("./src/addons/addons/hide-flyout/_manifest_entry.js"),m=s("./src/addons/addons/mediarecorder/_manifest_entry.js"),p=s("./src/addons/addons/drag-drop/_manifest_entry.js"),f=s("./src/addons/addons/debugger/_manifest_entry.js"),h=s("./src/addons/addons/pause/_manifest_entry.js"),b=s("./src/addons/addons/mute-project/_manifest_entry.js"),g=s("./src/addons/addons/vol-slider/_manifest_entry.js"),y=s("./src/addons/addons/clones/_manifest_entry.js"),k=s("./src/addons/addons/mouse-pos/_manifest_entry.js"),v=s("./src/addons/addons/color-picker/_manifest_entry.js"),_=s("./src/addons/addons/remove-sprite-confirm/_manifest_entry.js"),w=s("./src/addons/addons/block-count/_manifest_entry.js"),j=s("./src/addons/addons/onion-skinning/_manifest_entry.js"),C=s("./src/addons/addons/paint-snap/_manifest_entry.js"),x=s("./src/addons/addons/default-costume-editor-color/_manifest_entry.js"),S=s("./src/addons/addons/bitmap-copy/_manifest_entry.js"),D=s("./src/addons/addons/2d-color-picker/_manifest_entry.js"),T=s("./src/addons/addons/better-img-uploads/_manifest_entry.js"),M=s("./src/addons/addons/pick-colors-from-stage/_manifest_entry.js"),E=s("./src/addons/addons/custom-block-shape/_manifest_entry.js"),O=s("./src/addons/addons/zebra-striping/_manifest_entry.js"),A=s("./src/addons/addons/editor-theme3/_manifest_entry.js"),N=s("./src/addons/addons/custom-block-text/_manifest_entry.js"),I=s("./src/addons/addons/editor-colored-context-menus/_manifest_entry.js"),B=s("./src/addons/addons/editor-stage-left/_manifest_entry.js"),z=s("./src/addons/addons/editor-buttons-reverse-order/_manifest_entry.js"),L=s("./src/addons/addons/variable-manager/_manifest_entry.js"),P=s("./src/addons/addons/search-sprites/_manifest_entry.js"),F=s("./src/addons/addons/sprite-properties/_manifest_entry.js"),R=s("./src/addons/addons/gamepad/_manifest_entry.js"),G=s("./src/addons/addons/editor-sounds/_manifest_entry.js"),V=s("./src/addons/addons/folders/_manifest_entry.js"),H=s("./src/addons/addons/block-switching/_manifest_entry.js"),U=s("./src/addons/addons/load-extensions/_manifest_entry.js"),W=s("./src/addons/addons/custom-zoom/_manifest_entry.js"),Z=s("./src/addons/addons/initialise-sprite-position/_manifest_entry.js"),Y=s("./src/addons/addons/blocks2image/_manifest_entry.js"),q=s("./src/addons/addons/remove-curved-stage-border/_manifest_entry.js"),Q=s("./src/addons/addons/transparent-orphans/_manifest_entry.js"),J=s("./src/addons/addons/paint-by-default/_manifest_entry.js"),X=s("./src/addons/addons/block-cherry-picking/_manifest_entry.js"),K=s("./src/addons/addons/hide-new-variables/_manifest_entry.js"),$=s("./src/addons/addons/editor-extra-keys/_manifest_entry.js"),ee=s("./src/addons/addons/hide-delete-button/_manifest_entry.js"),te=s("./src/addons/addons/no-script-bumping/_manifest_entry.js"),se=s("./src/addons/addons/disable-stage-drag-select/_manifest_entry.js"),ne=s("./src/addons/addons/move-to-top-bottom/_manifest_entry.js"),oe=s("./src/addons/addons/disable-paste-offset/_manifest_entry.js"),ae=s("./src/addons/addons/block-duplicate/_manifest_entry.js"),re=s("./src/addons/addons/rename-broadcasts/_manifest_entry.js"),ie=s("./src/addons/addons/swap-local-global/_manifest_entry.js"),de=s("./src/addons/addons/editor-comment-previews/_manifest_entry.js"),le=s("./src/addons/addons/columns/_manifest_entry.js"),ce=s("./src/addons/addons/number-pad/_manifest_entry.js"),ue=s("./src/addons/addons/script-snap/_manifest_entry.js"),me=s("./src/addons/addons/fullscreen/_manifest_entry.js"),pe=s("./src/addons/addons/hide-stage/_manifest_entry.js"),fe=s("./src/addons/addons/tw-straighten-comments/_manifest_entry.js"),he=s("./src/addons/addons/tw-remove-backpack/_manifest_entry.js"),be=s("./src/addons/addons/tw-remove-feedback/_manifest_entry.js"),ge=s("./src/addons/addons/tw-disable-cloud-variables/_manifest_entry.js"),ye=s("./src/addons/addons/tw-disable-compiler/_manifest_entry.js"),ke=s("./src/addons/addons/editor-stepping/_manifest_entry.js");t.default={"cat-blocks":n.default,"editor-devtools":o.default,"find-bar":a.default,"middle-click-popup":r.default,"jump-to-def":i.default,"editor-searchable-dropdowns":d.default,"data-category-tweaks-v2":l.default,"block-palette-icons":c.default,"hide-flyout":u.default,mediarecorder:m.default,"drag-drop":p.default,debugger:f.default,pause:h.default,"mute-project":b.default,"vol-slider":g.default,clones:y.default,"mouse-pos":k.default,"color-picker":v.default,"remove-sprite-confirm":_.default,"block-count":w.default,"onion-skinning":j.default,"paint-snap":C.default,"default-costume-editor-color":x.default,"bitmap-copy":S.default,"2d-color-picker":D.default,"better-img-uploads":T.default,"pick-colors-from-stage":M.default,"custom-block-shape":E.default,"zebra-striping":O.default,"editor-theme3":A.default,"custom-block-text":N.default,"editor-colored-context-menus":I.default,"editor-stage-left":B.default,"editor-buttons-reverse-order":z.default,"variable-manager":L.default,"search-sprites":P.default,"sprite-properties":F.default,gamepad:R.default,"editor-sounds":G.default,folders:V.default,"block-switching":H.default,"load-extensions":U.default,"custom-zoom":W.default,"initialise-sprite-position":Z.default,blocks2image:Y.default,"remove-curved-stage-border":q.default,"transparent-orphans":Q.default,"paint-by-default":J.default,"block-cherry-picking":X.default,"hide-new-variables":K.default,"editor-extra-keys":$.default,"hide-delete-button":ee.default,"no-script-bumping":te.default,"disable-stage-drag-select":se.default,"move-to-top-bottom":ne.default,"disable-paste-offset":oe.default,"block-duplicate":ae.default,"rename-broadcasts":re.default,"swap-local-global":ie.default,"editor-comment-previews":de.default,columns:le.default,"number-pad":ce.default,"script-snap":ue.default,fullscreen:me.default,"hide-stage":pe.default,"tw-straighten-comments":fe.default,"tw-remove-backpack":he.default,"tw-remove-feedback":be.default,"tw-disable-cloud-variables":ge.default,"tw-disable-compiler":ye.default,"editor-stepping":ke.default}},"./src/addons/generated/l10n-entries.js":function(e,t,s){"use strict";s.r(t),t.default={de:()=>s.e("addon-l10n-de").then(s.t.bind(null,"./src/addons/addons-l10n/de.json",3)),es:()=>s.e("addon-l10n-es").then(s.t.bind(null,"./src/addons/addons-l10n/es.json",3)),fr:()=>s.e("addon-l10n-fr").then(s.t.bind(null,"./src/addons/addons-l10n/fr.json",3)),hu:()=>s.e("addon-l10n-hu").then(s.t.bind(null,"./src/addons/addons-l10n/hu.json",3)),it:()=>s.e("addon-l10n-it").then(s.t.bind(null,"./src/addons/addons-l10n/it.json",3)),ja:()=>s.e("addon-l10n-ja").then(s.t.bind(null,"./src/addons/addons-l10n/ja.json",3)),ko:()=>s.e("addon-l10n-ko").then(s.t.bind(null,"./src/addons/addons-l10n/ko.json",3)),nl:()=>s.e("addon-l10n-nl").then(s.t.bind(null,"./src/addons/addons-l10n/nl.json",3)),pl:()=>s.e("addon-l10n-pl").then(s.t.bind(null,"./src/addons/addons-l10n/pl.json",3)),pt:()=>s.e("addon-l10n-pt").then(s.t.bind(null,"./src/addons/addons-l10n/pt.json",3)),ro:()=>s.e("addon-l10n-ro").then(s.t.bind(null,"./src/addons/addons-l10n/ro.json",3)),ru:()=>s.e("addon-l10n-ru").then(s.t.bind(null,"./src/addons/addons-l10n/ru.json",3)),sl:()=>s.e("addon-l10n-sl").then(s.t.bind(null,"./src/addons/addons-l10n/sl.json",3)),tr:()=>s.e("addon-l10n-tr").then(s.t.bind(null,"./src/addons/addons-l10n/tr.json",3)),"zh-cn":()=>s.e("addon-l10n-zh-cn").then(s.t.bind(null,"./src/addons/addons-l10n/zh-cn.json",3)),"zh-tw":()=>s.e("addon-l10n-zh-tw").then(s.t.bind(null,"./src/addons/addons-l10n/zh-tw.json",3))}},"./src/addons/generated/upstream-meta.json":function(e){e.exports=JSON.parse('{"commit":"3cb8b52"}')},"./src/addons/libraries/common/cs/text-color.esm.js":function(e,t,s){"use strict";function n(e){return{r:parseInt(e.substring(1,3),16),g:parseInt(e.substring(3,5),16),b:parseInt(e.substring(5,7),16),a:e.length>=9?parseInt(e.substring(7,9),16)/255:1}}function o(e){return 1===(e=Math.round(e).toString(16)).length?"0".concat(e):e}function a(e){const t=o(e.r),s=o(e.g),n=o(e.b),a=void 0!==e.a?o(255*e.a):"";return"#".concat(t).concat(s).concat(n).concat(a)}function r(e){let{h:t,s:s,v:n}=e;if(0===s)return{r:255*n,g:255*n,b:255*n};t%=360,t<0&&(t+=360);const o=t/60,a=Math.floor(o),r=n*(1-s*(1-o+a)),i=n*(1-s*(o-a)),d=n*(1-s);switch(a){case 0:return{r:255*n,g:255*r,b:255*d};case 1:return{r:255*i,g:255*n,b:255*d};case 2:return{r:255*d,g:255*n,b:255*r};case 3:return{r:255*d,g:255*i,b:255*n};case 4:return{r:255*r,g:255*d,b:255*n};case 5:return{r:255*n,g:255*d,b:255*i}}}function i(e){let{r:t,g:s,b:n}=e;t/=255,s/=255,n/=255;const o=Math.max(t,s,n),a=o-Math.min(t,s,n);if(0===a)return{h:0,s:0,v:o};const r=(o-t)/a,i=(o-s)/a,d=(o-n)/a;let l;return r?i?d||(l=4+i-r):l=2+r-d:l=d-i,{h:60*l%360,s:a/o,v:o}}function d(e){const{r:t,g:s,b:o}=n(e);return.299*t+.587*s+.114*o}function l(e,t,s,n){return"number"!=typeof(n=void 0!==n?n:170)&&(n=d(n)),d(e)>n?void 0!==t?t:"#575e75":void 0!==s?s:"#ffffff"}function c(e,t){const{r:s,g:o,b:r,a:i}=n(e);return void 0===t.r&&(t.r=1),void 0===t.g&&(t.g=1),void 0===t.b&&(t.b=1),void 0===t.a&&(t.a=1),a({r:t.r*s,g:t.g*o,b:t.b*r,a:t.a*i})}function u(e,t){const{r:s,g:o,b:r,a:i}=n(e);return void 0===t.r&&(t.r=1),void 0===t.g&&(t.g=1),void 0===t.b&&(t.b=1),void 0===t.a&&(t.a=1),a({r:255*(1-t.r)+t.r*s,g:255*(1-t.g)+t.g*o,b:255*(1-t.b)+t.b*r,a:1-t.a+t.a*i})}function m(e,t){const{r:s,g:o,b:r}=n(e),{r:i,g:d,b:l,a:c}=n(t);return a({r:(1-c)*s+c*i,g:(1-c)*o+c*d,b:(1-c)*r+c*l})}function p(e){return e.substring(0,7)}function f(e,t,s){return a(r({h:"number"==typeof e?e:i(n(e)).h,s:"number"!=typeof e&&0===i(n(e)).s?0:"number"==typeof t?t:i(n(t)).s,v:"number"==typeof s?s:i(n(s)).v}))}function h(e){const{r:t,g:s,b:o}=n(e);return"url(\"data:image/svg+xml,\n    <svg xmlns='http://www.w3.org/2000/svg'>\n      <filter id='recolor'>\n        <feColorMatrix color-interpolation-filters='sRGB' values='\n          0 0 0 0 ".concat(t/255,"\n          0 0 0 0 ").concat(s/255,"\n          0 0 0 0 ").concat(o/255,"\n          0 0 0 1 0\n        '/>\n      </filter>\n    </svg>#recolor\n  \")").split("\n").join("")}s.r(t),s.d(t,"parseHex",(function(){return n})),s.d(t,"convertToHex",(function(){return a})),s.d(t,"convertFromHsv",(function(){return r})),s.d(t,"convertToHsv",(function(){return i})),s.d(t,"brightness",(function(){return d})),s.d(t,"textColor",(function(){return l})),s.d(t,"multiply",(function(){return c})),s.d(t,"brighten",(function(){return u})),s.d(t,"alphaBlend",(function(){return m})),s.d(t,"removeAlpha",(function(){return p})),s.d(t,"makeHsv",(function(){return f})),s.d(t,"recolorFilter",(function(){return h}))},"./src/addons/modal.css":function(e,t,s){var n=s("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./src/addons/modal.css");"string"==typeof n&&(n=[[e.i,n,""]]),s("./node_modules/style-loader/lib/addStyles.js")(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(e.exports=n.locals)},"./src/addons/modal.js":function(e,t,s){"use strict";s.r(t),s.d(t,"createEditorModal",(function(){return i})),s.d(t,"confirm",(function(){return l})),s.d(t,"prompt",(function(){return c}));var n=s("./src/components/close-button/icon--close.svg"),o=s.n(n),a=s("./src/addons/modal.css"),r=s.n(a);const i=function(e,t){let{isOpen:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=Object.assign(document.createElement("div"),{className:e.scratchClass("modal_modal-overlay"),dir:e.direction});n.style.display=s?"":"none",document.body.appendChild(n);const a=Object.assign(document.createElement("div"),{className:e.scratchClass("modal_modal-content")});a.addEventListener("click",e=>e.stopPropagation()),n.appendChild(a);const i=Object.assign(document.createElement("div"),{className:e.scratchClass("modal_header")});a.appendChild(i),i.appendChild(Object.assign(document.createElement("div"),{className:e.scratchClass("modal_header-item","modal_header-item-title"),innerText:t}));const d=Object.assign(document.createElement("div"),{className:e.scratchClass("modal_header-item","modal_header-item-close")});i.appendChild(d);const l=Object.assign(document.createElement("div"),{className:e.scratchClass("close-button_close-button","close-button_large")});d.appendChild(l),l.appendChild(Object.assign(document.createElement("img"),{className:e.scratchClass("close-button_close-icon"),src:o.a}));const c=Object.assign(document.createElement("div"),{className:r.a.modalContent});return a.appendChild(c),{container:a,content:c,backdrop:n,closeButton:l,open:()=>{n.style.display=""},close:()=>{n.style.display="none"},remove:n.remove.bind(n)}},d=e=>{const t=Object.assign(document.createElement("div"),{className:e.scratchClass("prompt_button-row")}),s=Object.assign(document.createElement("button"),{className:e.scratchClass("prompt_cancel-button"),innerText:e.scratchMessage("gui.prompt.cancel")});t.appendChild(s);const n=Object.assign(document.createElement("button"),{className:e.scratchClass("prompt_ok-button"),innerText:e.scratchMessage("gui.prompt.ok")});return t.appendChild(n),{buttonRow:t,cancelButton:s,okButton:n}},l=function(e,t,s){let{useEditorClasses:n=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{remove:o,container:a,content:r,backdrop:i,closeButton:l}=e.createModal(t,{isOpen:!0,useEditorClasses:n,useSizesClass:!0}),c=null!==e.editorMode&&n?"editor":e.clientVersion;"editor"===c&&(a.classList.add(e.scratchClass("prompt_modal-content")),r.classList.add(e.scratchClass("prompt_body"))),r.appendChild(Object.assign(document.createElement("div"),{className:e.scratchClass("prompt_label"),innerText:s}));const{buttonRow:u,cancelButton:m,okButton:p}=d(e);return r.appendChild(u),p.focus(),new Promise(e=>{const t=()=>{o(),e(!1)},s=()=>{o(),e(!0)};i.addEventListener("click",t),l.addEventListener("click",t),m.addEventListener("click",t),p.addEventListener("click",s),a.addEventListener("keydown",e=>{"Enter"===e.key&&s(),"Escape"===e.key&&t()})})},c=function(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",{useEditorClasses:o=!1}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{remove:a,container:r,content:i,backdrop:l,closeButton:c}=e.createModal(t,{isOpen:!0,useEditorClasses:o,useSizesClass:!0});r.classList.add(e.scratchClass("prompt_modal-content")),i.classList.add(e.scratchClass("prompt_body")),i.appendChild(Object.assign(document.createElement("div"),{className:e.scratchClass("prompt_label"),innerText:s}));const u=Object.assign(document.createElement("input"),{className:e.scratchClass("prompt_variable-name-text-input"),value:n});i.appendChild(u),u.focus(),u.select();const{buttonRow:m,cancelButton:p,okButton:f}=d(e);return i.appendChild(m),new Promise(e=>{const t=()=>{a(),e(null)},s=()=>{a(),e(u.value)};l.addEventListener("click",t),c.addEventListener("click",t),p.addEventListener("click",t),f.addEventListener("click",s),r.addEventListener("keydown",e=>{"Enter"===e.key&&s(),"Escape"===e.key&&t()})})}},"./src/addons/polyfill.js":function(e,t){Blob.prototype.text||(Blob.prototype.text=function(){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>e(s.result),s.onerror=()=>t(new Error("Cannot read blob as text")),s.readAsText(this)})}),Array.prototype.flat||(Array.prototype.flat=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=[];for(const s of this)if(Array.isArray(s))if(e<1)t.push(s);else for(const n of s.flat(e-1))t.push(n);else t.push(s);return t}),"function"!=typeof queueMicrotask&&(window.queueMicrotask=e=>{Promise.resolve().then(e)})},"./src/addons/settings-store-singleton.js":function(e,t,s){"use strict";s.r(t);const n=new(s("./src/addons/settings-store.js").default),o=new URLSearchParams(location.search);o.has("addons")?n.parseUrlParameter(o.get("addons")):n.readLocalStorage(),t.default=n},"./src/addons/settings-store.js":function(e,t,s){"use strict";s.r(t);var n=s("./src/addons/generated/addon-manifests.js"),o=s("./src/addons/generated/upstream-meta.json"),a=s("./src/addons/event-target.js");function r(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function i(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?r(Object(s),!0).forEach((function(t){d(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function d(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class l extends a.default{constructor(){super(),this.store=this.createEmptyStore(),this.remote=!1}createEmptyStore(){const e={};for(const t of Object.keys(n.default))e[t]={};return e}readLocalStorage(){const e=this.store;try{const t=localStorage.getItem("tw:addons");if(t){let s=JSON.parse(t);if(s&&"object"==typeof s){s=(e=>{const t=e._;if(4===t||!t)return e;if(t<2){const t=e["tw-project-info"];t&&t.enabled&&(e["block-count"]={enabled:!0});const s=e["tw-interface-customization"];s&&s.enabled&&(s.removeBackpack&&(e["tw-remove-backpack"]={enabled:!0}),s.removeFeedback&&(e["tw-remove-feedback"]={enabled:!0}))}if(t<3){const t=e["hide-flyout"];t&&t.enabled&&void 0===t.toggled&&(t.toggle="hover")}if(t<4){const t=e["editor-devtools"];t&&!1===t.enabled&&(e["find-bar"]={enabled:!1},e["middle-click-popup"]={enabled:!1})}return e})(s);for(const t of Object.keys(s))if(e.hasOwnProperty(t)){const n=s[t];n&&"object"==typeof n&&(e[t]=n)}}}}catch(e){}this.store=e}saveToLocalStorage(){if(!this.remote)try{const e={_:4};for(const t of Object.keys(n.default)){const s=this.getAddonStorage(t);Object.keys(s).length>0&&(e[t]=s)}localStorage.setItem("tw:addons",JSON.stringify(e))}catch(e){}}getAddonStorage(e){if(this.store[e])return this.store[e];throw new Error("Unknown addon store: ".concat(e))}getAddonManifest(e){if(n.default[e])return n.default[e];throw new Error("Unknown addon: ".concat(e))}getAddonSettingObject(e,t){if(!e.settings)return null;for(const s of e.settings)if(s.id===t)return s;return null}getAddonEnabled(e){const t=this.getAddonManifest(e);if(t.unsupported)return!1;const s=this.getAddonStorage(e);return s.hasOwnProperty("enabled")?s.enabled:!!t.enabledByDefault}getAddonSetting(e,t){const s=this.getAddonStorage(e),n=this.getAddonManifest(e),o=this.getAddonSettingObject(n,t);if(!o)throw new Error("Unknown setting: ".concat(t));return s.hasOwnProperty(t)?s[t]:o.default}getDefaultSettings(e){const t=this.getAddonManifest(e),s={};for(const{id:e,default:n}of t.settings)s[e]=n;return s}setAddonEnabled(e,t){const s=this.getAddonStorage(e),n=this.getAddonManifest(e),o=this.getAddonEnabled(e);if(null===t)t=!!n.enabledByDefault,delete s.enabled;else{if("boolean"!=typeof t)throw new Error("Enabled value is invalid.");s.enabled=t}if(this.saveToLocalStorage(),t!==o){const s=!!t||!!n.dynamicDisable;this.dispatchEvent(new CustomEvent("setting-changed",{detail:{addonId:e,settingId:"enabled",reloadRequired:!s,value:t}}))}}setAddonSetting(e,t,s){const n=this.getAddonStorage(e),o=this.getAddonManifest(e),a=this.getAddonSettingObject(o,t),r=this.getAddonSetting(e,t);if(null===s)s=a.default,delete n[t];else{if("boolean"===a.type){if("boolean"!=typeof s)throw new Error("Setting value is invalid.")}else if("integer"===a.type){if("number"!=typeof s)throw new Error("Setting value is invalid.")}else if("color"===a.type){if("string"!=typeof s)throw new Error("Color value is not a string.");if(9===s.length&&(s=s.substring(0,7)),!/^#[0-9a-f]{6}$/i.test(s))throw new Error("Color value is invalid format.")}else{if("select"!==a.type)throw new Error("Setting object is of unknown type");if(!a.potentialValues.some(e=>e.id===s))throw new Error("Setting value is invalid.")}n[t]=s}this.saveToLocalStorage(),s!==r&&this.dispatchEvent(new CustomEvent("setting-changed",{detail:{addonId:e,settingId:t,reloadRequired:!a.dynamic,value:s}}))}applyAddonPreset(e,t){const s=this.getAddonManifest(e);for(const{id:n,values:o}of s.presets){if(n!==t)continue;const s=i(i({},this.getDefaultSettings(e)),o);for(const t of Object.keys(s))this.setAddonSetting(e,t,s[t]);return}throw new Error("Unknown preset: ".concat(t))}resetAllAddons(){for(const e of Object.keys(n.default))this.resetAddon(e,!0);this.store=this.createEmptyStore(),this.saveToLocalStorage()}resetAddon(e,t){const s=this.getAddonStorage(e);for(const n of Object.keys(s))if("enabled"!==n)try{this.setAddonSetting(e,n,null)}catch(e){}else t&&this.setAddonEnabled(e,null)}parseUrlParameter(e){this.remote=!0;const t=e.split(",");for(const e of Object.keys(n.default))this.setAddonEnabled(e,t.includes(e))}export(e){let{theme:t}=e;const s={core:{lightTheme:"light"===t,version:"v1.0.0-tw-".concat(o.commit)},addons:{}};for(const[e,t]of Object.entries(n.default)){const n=this.getAddonEnabled(e),o={};if(t.settings)for(const{id:s}of t.settings)o[s]=this.getAddonSetting(e,s);s.addons[e]={enabled:n,settings:o}}return s}import(e){for(const[t,s]of Object.entries(e.addons)){if(!n.default.hasOwnProperty(t))continue;const{enabled:e,settings:o}=s;"boolean"==typeof e&&this.setAddonEnabled(t,e);for(const[e,s]of Object.entries(o))try{this.setAddonSetting(t,e,s)}catch(e){}}}setStoreWithVersionCheck(e){let{version:t,store:s}=e;t===o.commit&&this.setStore(s)}setStore(e){const t=this.store;for(const s of Object.keys(t)){const n=t[s],o=e[s];if(o&&"object"==typeof o&&JSON.stringify(n)!==JSON.stringify(o)){const e=this.getAddonManifest(s),t=!n.enabled&&o.enabled,a=!!e.dynamicDisable&&n.enabled&&!o.enabled;this.store[s]=JSON.parse(JSON.stringify(o)),this.dispatchEvent(new CustomEvent("addon-changed",{detail:{addonId:s,dynamicEnable:t,dynamicDisable:a}}))}}}evaluateCondition(e,t){if(!t)return!0;if(t.addonEnabled&&(s=t.addonEnabled,Array.isArray(s)?s:[s]).every(e=>!this.getAddonEnabled(e)))return!1;var s;if(t.settings)for(const[s,n]of Object.entries(t.settings))if(this.getAddonSetting(e,s)!==n)return!1;return!0}}t.default=l}}]);
//# sourceMappingURL=addons.js.map